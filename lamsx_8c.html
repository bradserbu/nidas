<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>nidas: nidas/linux/lams/lamsx.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nidas
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_63299fbf0c9c17e6aecce65eb5f7e6e7.html">nidas</a></li><li class="navelem"><a class="el" href="dir_3f87f8ed86e766800eb62f0a96dc3d82.html">linux</a></li><li class="navelem"><a class="el" href="dir_674d835baa7bf57f3340b84f6a6dcac3.html">lams</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">lamsx.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="types_8h_source.html">linux/types.h</a>&gt;</code><br/>
<code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;linux/version.h&gt;</code><br/>
<code>#include &lt;linux/moduleparam.h&gt;</code><br/>
<code>#include &lt;linux/init.h&gt;</code><br/>
<code>#include &lt;linux/ioport.h&gt;</code><br/>
<code>#include &lt;linux/interrupt.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/workqueue.h&gt;</code><br/>
<code>#include &lt;linux/poll.h&gt;</code><br/>
<code>#include &lt;linux/delay.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;asm/uaccess.h&gt;</code><br/>
<code>#include &lt;asm/io.h&gt;</code><br/>
<code>#include &lt;linux/cdev.h&gt;</code><br/>
<code>#include &lt;linux/device.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="lamsx_8h_source.html">lamsx.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="ver__macros_8h_source.html">nidas/linux/ver_macros.h</a>&gt;</code><br/>
<code>#include &lt;nidas/linux/Revision.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="klog_8h_source.html">nidas/linux/klog.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="isa__bus_8h_source.html">nidas/linux/isa_bus.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="linux_2util_8h_source.html">nidas/linux/util.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for lamsx.c:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c__incl.png" border="0" usemap="#nidas_2linux_2lams_2lamsx_8c" alt=""/></div>
<map name="nidas_2linux_2lams_2lamsx_8c" id="nidas_2linux_2lams_2lamsx_8c">
<area shape="rect" id="node2" href="types_8h.html" title="linux/types.h" alt="" coords="1017,155,1119,181"/><area shape="rect" id="node21" href="lamsx_8h.html" title="lamsx.h" alt="" coords="2117,80,2189,107"/><area shape="rect" id="node22" href="ver__macros_8h.html" title="nidas/linux/ver_macros.h" alt="" coords="2213,80,2393,107"/><area shape="rect" id="node24" href="klog_8h.html" title="nidas/linux/klog.h" alt="" coords="2598,80,2729,107"/><area shape="rect" id="node25" href="isa__bus_8h.html" title="nidas/linux/isa_bus.h" alt="" coords="2753,80,2906,107"/><area shape="rect" id="node26" href="linux_2util_8h.html" title="nidas/linux/util.h" alt="" coords="2931,80,3054,107"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbh__data.html">bh_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLAMS__board.html">LAMS_board</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae5f36e208a8568a7cfe29080f4b3b270"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ae5f36e208a8568a7cfe29080f4b3b270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda1e5af1f15169b7b5d79a287c40b51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#afda1e5af1f15169b7b5d79a287c40b51">IRQF_SHARED</a>&#160;&#160;&#160;SA_SHIRQ</td></tr>
<tr class="separator:afda1e5af1f15169b7b5d79a287c40b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf73c633424be27d6f3860ff8174e07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#aebf73c633424be27d6f3860ff8174e07">REPO_REVISION</a>&#160;&#160;&#160;&quot;unknown&quot;</td></tr>
<tr class="separator:aebf73c633424be27d6f3860ff8174e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7276a18327d1bfd1ff14321ce648ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7a7276a18327d1bfd1ff14321ce648ca">RAM_CLEAR_OFFSET</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a7a7276a18327d1bfd1ff14321ce648ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47cf25fa706f16432dfc6637015870bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a47cf25fa706f16432dfc6637015870bd">PEAK_CLEAR_OFFSET</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a47cf25fa706f16432dfc6637015870bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b88c9097b27c9d3d2b398238c7c6b86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a5b88c9097b27c9d3d2b398238c7c6b86">AVG_LSW_DATA_OFFSET</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a5b88c9097b27c9d3d2b398238c7c6b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330d42a0498f536a7da67d90fc02e8d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a330d42a0498f536a7da67d90fc02e8d3">AVG_MSW_DATA_OFFSET</a>&#160;&#160;&#160;0x06</td></tr>
<tr class="separator:a330d42a0498f536a7da67d90fc02e8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045bacaed2ecadebb96ab1f078099cc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a045bacaed2ecadebb96ab1f078099cc6">PEAK_DATA_OFFSET</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:a045bacaed2ecadebb96ab1f078099cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c21e5b007b83fb2177e660c96d48a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ac7c21e5b007b83fb2177e660c96d48a6">TAS_BELOW_OFFSET</a>&#160;&#160;&#160;0x0A</td></tr>
<tr class="separator:ac7c21e5b007b83fb2177e660c96d48a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5df08c4b2a405202519c9b620b8ab6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#afd5df08c4b2a405202519c9b620b8ab6">TAS_ABOVE_OFFSET</a>&#160;&#160;&#160;0x0C</td></tr>
<tr class="separator:afd5df08c4b2a405202519c9b620b8ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6051a8cc053e5964ff91e00a0348bfe0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a6051a8cc053e5964ff91e00a0348bfe0">IOPORT_REGION_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a6051a8cc053e5964ff91e00a0348bfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3427af61836caac890fef3ac1dd9939f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a3427af61836caac890fef3ac1dd9939f">SPECTRAL_POINTS_TO_SKIP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a3427af61836caac890fef3ac1dd9939f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91526dec13d1d4f26d3e9591f1a467c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ac91526dec13d1d4f26d3e9591f1a467c">LAMS_ISR_SAMPLE_QUEUE_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:ac91526dec13d1d4f26d3e9591f1a467c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081f8a3925e8ba7fbcecb0525e6afb10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a081f8a3925e8ba7fbcecb0525e6afb10">LAMS_OUTPUT_SAMPLE_QUEUE_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a081f8a3925e8ba7fbcecb0525e6afb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab192c036c587c4badfcdef59137d9a3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ab192c036c587c4badfcdef59137d9a3f">module_param_array</a> (<a class="el" href="pcmcom8_8c.html#a1ac50468ac3c01644eec03fb49e232f3">ioports</a>, int, <a class="el" href="mesa_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, 0)</td></tr>
<tr class="separator:ab192c036c587c4badfcdef59137d9a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba69b425b965e2e1124f539a2f90f49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a9ba69b425b965e2e1124f539a2f90f49">module_param_array</a> (<a class="el" href="lamsx_8c.html#a7cbdc3c1aff32a8d483a523803639534">irqs</a>, int, <a class="el" href="lamsx_8c.html#a142c880f23e0979a17f2f5cc02b24940">numirqs</a>, 0)</td></tr>
<tr class="separator:a9ba69b425b965e2e1124f539a2f90f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc4f1611721a60ee94d83fced443472"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7cc4f1611721a60ee94d83fced443472">MODULE_AUTHOR</a> (&quot;Gordon Maclean &lt;maclean@ucar.edu&gt;&quot;)</td></tr>
<tr class="separator:a7cc4f1611721a60ee94d83fced443472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c95e2cd11cba226f5f3513060a8928e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a5c95e2cd11cba226f5f3513060a8928e">MODULE_LICENSE</a> (&quot;Dual BSD/GPL&quot;)</td></tr>
<tr class="separator:a5c95e2cd11cba226f5f3513060a8928e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7464098d4a1894e16d7beaf805c05511"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7464098d4a1894e16d7beaf805c05511">MODULE_DESCRIPTION</a> (&quot;Driver for LAMX card&quot;)</td></tr>
<tr class="separator:a7464098d4a1894e16d7beaf805c05511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5254ca30e6e46bc7b28c17b101e23cd2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a5254ca30e6e46bc7b28c17b101e23cd2">MODULE_VERSION</a> (<a class="el" href="viper__dio_8c.html#aebf73c633424be27d6f3860ff8174e07">REPO_REVISION</a>)</td></tr>
<tr class="separator:a5254ca30e6e46bc7b28c17b101e23cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae285c556abd3abb1c3f598d880156988"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ae285c556abd3abb1c3f598d880156988">setNAvg</a> (struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *brd, int val)</td></tr>
<tr class="separator:ae285c556abd3abb1c3f598d880156988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50547e087745cf6612aa5c919c358f98"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a50547e087745cf6612aa5c919c358f98">lams_bottom_half</a> (struct work_struct *work)</td></tr>
<tr class="memdesc:a50547e087745cf6612aa5c919c358f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Work queue function that processes the raw samples from the ISR.  <a href="#a50547e087745cf6612aa5c919c358f98">More...</a><br/></td></tr>
<tr class="separator:a50547e087745cf6612aa5c919c358f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851d2bcaa73b34aa52f0b21d4a79ec7c"><td class="memItemLeft" align="right" valign="top">static irqreturn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c">lams_irq_handler</a> (int irq, void *dev_id)</td></tr>
<tr class="separator:a851d2bcaa73b34aa52f0b21d4a79ec7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbcdba45fd2e7241e4e0b2ac4e01c4c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7">lams_request_irq</a> (struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *brd)</td></tr>
<tr class="separator:afbcdba45fd2e7241e4e0b2ac4e01c4c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1df4ed73cb6ca65320aadcb39babdb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7c1df4ed73cb6ca65320aadcb39babdb">lams_remove_irq</a> (struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *brd)</td></tr>
<tr class="separator:a7c1df4ed73cb6ca65320aadcb39babdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3003874568c899e0b94e2317385592e7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:a3003874568c899e0b94e2317385592e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0a25cb2daddbd8522d1d42ed417dee"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:a9d0a25cb2daddbd8522d1d42ed417dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3ea911d5aabfdb80706cde3bdbf746"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ace3ea911d5aabfdb80706cde3bdbf746">lams_read</a> (struct file *filp, char __user *buf, size_t count, loff_t *f_pos)</td></tr>
<tr class="separator:ace3ea911d5aabfdb80706cde3bdbf746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdd0b8f846a26ff71e3fcc38c141ba2"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a5fdd0b8f846a26ff71e3fcc38c141ba2">lams_poll</a> (struct file *filp, poll_table *wait)</td></tr>
<tr class="separator:a5fdd0b8f846a26ff71e3fcc38c141ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e6d30fb7c764e941b80dd0a5b1082c"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl</a> (struct file *filp, unsigned int cmd, unsigned long arg)</td></tr>
<tr class="separator:a04e6d30fb7c764e941b80dd0a5b1082c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dac64a0c7995ae83c1596ebdea1f0c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup</a> (void)</td></tr>
<tr class="separator:a8dac64a0c7995ae83c1596ebdea1f0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77c3bd2ee7eaab26013c0afd33540bd"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init</a> (void)</td></tr>
<tr class="separator:aa77c3bd2ee7eaab26013c0afd33540bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c01256704c17ff51cc2c10d6ba24a73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7c01256704c17ff51cc2c10d6ba24a73">module_init</a> (<a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init</a>)</td></tr>
<tr class="separator:a7c01256704c17ff51cc2c10d6ba24a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cbab0df3476fca2b9b8a03b37d54e5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a4cbab0df3476fca2b9b8a03b37d54e5e">module_exit</a> (<a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup</a>)</td></tr>
<tr class="separator:a4cbab0df3476fca2b9b8a03b37d54e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab3fdbf22ceb27dc84c580c6478e1175b"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ab3fdbf22ceb27dc84c580c6478e1175b">driver_name</a> = &quot;lamsx&quot;</td></tr>
<tr class="separator:ab3fdbf22ceb27dc84c580c6478e1175b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3446a78cd7adb8891e301ce99ad4065e"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a3446a78cd7adb8891e301ce99ad4065e">ioports</a> [<a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>] = { 0x220, 0, 0 }</td></tr>
<tr class="separator:a3446a78cd7adb8891e301ce99ad4065e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1113f8715749331088b7082526f87a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a> = 0</td></tr>
<tr class="separator:ad1113f8715749331088b7082526f87a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbdc3c1aff32a8d483a523803639534"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a7cbdc3c1aff32a8d483a523803639534">irqs</a> [<a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>] = { 4, 0, 0 }</td></tr>
<tr class="separator:a7cbdc3c1aff32a8d483a523803639534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142c880f23e0979a17f2f5cc02b24940"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a142c880f23e0979a17f2f5cc02b24940">numirqs</a> = 0</td></tr>
<tr class="separator:a142c880f23e0979a17f2f5cc02b24940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1cb1990c1c2b8d92f3e7106a2bcf88"><td class="memItemLeft" align="right" valign="top">static dev_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#add1cb1990c1c2b8d92f3e7106a2bcf88">lams_device</a> = MKDEV(0,0)</td></tr>
<tr class="separator:add1cb1990c1c2b8d92f3e7106a2bcf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71303a7ed3040c882c49a98a76c7790f"><td class="memItemLeft" align="right" valign="top">static struct class *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a71303a7ed3040c882c49a98a76c7790f">lams_class</a></td></tr>
<tr class="separator:a71303a7ed3040c882c49a98a76c7790f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2958f8a19d2d0a7fb4dafaab14c87d7f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a2958f8a19d2d0a7fb4dafaab14c87d7f">boards</a> = 0</td></tr>
<tr class="separator:a2958f8a19d2d0a7fb4dafaab14c87d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a15c49fff1a2a89ba9d25053d8e0c7"><td class="memItemLeft" align="right" valign="top">static struct workqueue_struct *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#a53a15c49fff1a2a89ba9d25053d8e0c7">work_queue</a> = 0</td></tr>
<tr class="separator:a53a15c49fff1a2a89ba9d25053d8e0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad978d66b8c909453b70a39b6f2a34e67"><td class="memItemLeft" align="right" valign="top">static struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lamsx_8c.html#ad978d66b8c909453b70a39b6f2a34e67">lams_fops</a></td></tr>
<tr class="separator:ad978d66b8c909453b70a39b6f2a34e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5b88c9097b27c9d3d2b398238c7c6b86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVG_LSW_DATA_OFFSET&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a330d42a0498f536a7da67d90fc02e8d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVG_MSW_DATA_OFFSET&#160;&#160;&#160;0x06</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6051a8cc053e5964ff91e00a0348bfe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOPORT_REGION_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, and <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="afda1e5af1f15169b7b5d79a287c40b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IRQF_SHARED&#160;&#160;&#160;SA_SHIRQ</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac91526dec13d1d4f26d3e9591f1a467c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAMS_ISR_SAMPLE_QUEUE_SIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a50547e087745cf6612aa5c919c358f98">lams_bottom_half()</a>, <a class="el" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c">lams_irq_handler()</a>, and <a class="el" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a081f8a3925e8ba7fbcecb0525e6afb10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAMS_OUTPUT_SAMPLE_QUEUE_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a50547e087745cf6612aa5c919c358f98">lams_bottom_half()</a>, <a class="el" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c">lams_irq_handler()</a>, and <a class="el" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5f36e208a8568a7cfe29080f4b3b270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_LAMS_BOARDS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a47cf25fa706f16432dfc6637015870bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PEAK_CLEAR_OFFSET&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a045bacaed2ecadebb96ab1f078099cc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PEAK_DATA_OFFSET&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a7276a18327d1bfd1ff14321ce648ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_CLEAR_OFFSET&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aebf73c633424be27d6f3860ff8174e07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REPO_REVISION&#160;&#160;&#160;&quot;unknown&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3427af61836caac890fef3ac1dd9939f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPECTRAL_POINTS_TO_SKIP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="afd5df08c4b2a405202519c9b620b8ab6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAS_ABOVE_OFFSET&#160;&#160;&#160;0x0C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7c21e5b007b83fb2177e660c96d48a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAS_BELOW_OFFSET&#160;&#160;&#160;0x0A</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a50547e087745cf6612aa5c919c358f98"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lams_bottom_half </td>
          <td>(</td>
          <td class="paramtype">struct work_struct *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Work queue function that processes the raw samples from the ISR. </p>

<p>References <a class="el" href="structLAMS__board.html#a5219f092c788be07371159e7afaeb6dd">LAMS_board::avg_samples</a>, <a class="el" href="structLAMS__board.html#a08a9ae7bb0b424f03161b35fe36d26c5">LAMS_board::avgMask</a>, <a class="el" href="structLAMS__board.html#ac7f4ede34b4c2cf85d9bf848916f63e1">LAMS_board::avgShift</a>, <a class="el" href="structLAMS__board.html#ae0ed37b06b9ddf097e31a813c943d4f4">LAMS_board::bh_data</a>, <a class="el" href="structlams__avg__sample.html#aeddeb9205b50e146e98d23584c442bb0">lams_avg_sample::data</a>, <a class="el" href="structLAMS__board.html#ad91f6ecaf9b0f99a967f5fe04b545add">LAMS_board::deviceName</a>, <a class="el" href="structbh__data.html#a9997411b64130c9bd178b8670e83c44a">bh_data::hosum</a>, <a class="el" href="structLAMS__board.html#abc3b9a50162dc8d42f9294f67233a6fd">LAMS_board::isr_avg_samples</a>, <a class="el" href="lamsx_8c.html#ac91526dec13d1d4f26d3e9591f1a467c">LAMS_ISR_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8c.html#a081f8a3925e8ba7fbcecb0525e6afb10">LAMS_OUTPUT_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8h.html#a2b5aa4a4afd10d5f862b8632bf493994">LAMS_SPECAVG_SAMPLE_TYPE</a>, <a class="el" href="lamsx_8h.html#a1daf8c7d7d436add03ad2c26cb3da6a1">LAMS_SPECTRA_SIZE</a>, <a class="el" href="structbh__data.html#a14b27fad622410c57e5da5f335f79c58">bh_data::losum</a>, <a class="el" href="structlams__status.html#a72ca2b6bc6e866ffa53b5f439ca3006d">lams_status::missedOutSamples</a>, <a class="el" href="structbh__data.html#a72205108586f317f8292525bda8c88cc">bh_data::nAvg</a>, <a class="el" href="structLAMS__board.html#a45dd3ebd47534d9ef8f65d5319245470">LAMS_board::nAVG</a>, <a class="el" href="structLAMS__board.html#a9a9e55612942143fdbf633198195d843">LAMS_board::read_queue</a>, <a class="el" href="structLAMS__board.html#aeaf5d07333bc37254feedae37b8ba0f7">LAMS_board::status</a>, <a class="el" href="structbh__data.html#a1d99b2a07dc27d46a964bc33bb399b66">bh_data::timetag</a>, <a class="el" href="structlams__avg__sample.html#a414f9e3ee516d6e7f9a279d2854e4057">lams_avg_sample::type</a>, and <a class="el" href="structLAMS__board.html#a76b107b4c83e15841206606d20ff6f42">LAMS_board::worker</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8dac64a0c7995ae83c1596ebdea1f0c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lams_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a3c9a161b89a75a45622266d3677b6df5">LAMS_board::addr</a>, <a class="el" href="structLAMS__board.html#a72e91ccb356c4f61decf5f85be9ce867">LAMS_board::cdev</a>, <a class="el" href="structLAMS__board.html#a9e22e082dd935691a103bbb8280a788d">LAMS_board::device</a>, <a class="el" href="lamsx_8c.html#a6051a8cc053e5964ff91e00a0348bfe0">IOPORT_REGION_SIZE</a>, <a class="el" href="structLAMS__board.html#aa060f728905c7a9a43ceb8a0de5c88b3">LAMS_board::irq</a>, <a class="el" href="lamsx_8c.html#a71303a7ed3040c882c49a98a76c7790f">lams_class</a>, <a class="el" href="lamsx_8c.html#add1cb1990c1c2b8d92f3e7106a2bcf88">lams_device</a>, <a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, and <a class="el" href="lamsx_8c.html#a53a15c49fff1a2a89ba9d25053d8e0c7">work_queue</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa77c3bd2ee7eaab26013c0afd33540bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init lams_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a3c9a161b89a75a45622266d3677b6df5">LAMS_board::addr</a>, <a class="el" href="structLAMS__board.html#a7f816df21bf66fe65ae4c4419d58daca">LAMS_board::avg_lsw_data_addr</a>, <a class="el" href="lamsx_8c.html#a5b88c9097b27c9d3d2b398238c7c6b86">AVG_LSW_DATA_OFFSET</a>, <a class="el" href="structLAMS__board.html#aa83accd0f16fee110ed97d3b067d3cc3">LAMS_board::avg_msw_data_addr</a>, <a class="el" href="lamsx_8c.html#a330d42a0498f536a7da67d90fc02e8d3">AVG_MSW_DATA_OFFSET</a>, <a class="el" href="structLAMS__board.html#a72e91ccb356c4f61decf5f85be9ce867">LAMS_board::cdev</a>, <a class="el" href="structLAMS__board.html#a9e22e082dd935691a103bbb8280a788d">LAMS_board::device</a>, <a class="el" href="structLAMS__board.html#ad91f6ecaf9b0f99a967f5fe04b545add">LAMS_board::deviceName</a>, <a class="el" href="lamsx_8c.html#ab3fdbf22ceb27dc84c580c6478e1175b">driver_name</a>, <a class="el" href="ck__lams_8cc.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>, <a class="el" href="structLAMS__board.html#a56298c34cdf85d703b9fe929cc2f6a62">LAMS_board::ioport</a>, <a class="el" href="lamsx_8c.html#a6051a8cc053e5964ff91e00a0348bfe0">IOPORT_REGION_SIZE</a>, <a class="el" href="lamsx_8c.html#a3446a78cd7adb8891e301ce99ad4065e">ioports</a>, <a class="el" href="lamsx_8c.html#a7cbdc3c1aff32a8d483a523803639534">irqs</a>, <a class="el" href="lamsx_8c.html#a50547e087745cf6612aa5c919c358f98">lams_bottom_half()</a>, <a class="el" href="lamsx_8c.html#a71303a7ed3040c882c49a98a76c7790f">lams_class</a>, <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, <a class="el" href="lamsx_8c.html#add1cb1990c1c2b8d92f3e7106a2bcf88">lams_device</a>, <a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>, <a class="el" href="structLAMS__board.html#a8af6dfad183330fd9fe99d6f4789bc4d">LAMS_board::nPEAKS</a>, <a class="el" href="structLAMS__board.html#aa410cb53c6edcb87feed6aec69fd3b71">LAMS_board::num</a>, <a class="el" href="structLAMS__board.html#a3a40eb76731c04d4e308f30a9037bd15">LAMS_board::num_opened</a>, <a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, <a class="el" href="structLAMS__board.html#afec2d8b89b78fbdd684940fbae66151e">LAMS_board::peak_clear_addr</a>, <a class="el" href="lamsx_8c.html#a47cf25fa706f16432dfc6637015870bd">PEAK_CLEAR_OFFSET</a>, <a class="el" href="structLAMS__board.html#adf1338aab24d24c6309bcb25f9c3d60f">LAMS_board::peak_data_addr</a>, <a class="el" href="lamsx_8c.html#a045bacaed2ecadebb96ab1f078099cc6">PEAK_DATA_OFFSET</a>, <a class="el" href="structLAMS__board.html#ad0988169d5341c440afe0ff90214ce3c">LAMS_board::ram_clear_addr</a>, <a class="el" href="lamsx_8c.html#a7a7276a18327d1bfd1ff14321ce648ca">RAM_CLEAR_OFFSET</a>, <a class="el" href="structLAMS__board.html#a9a9e55612942143fdbf633198195d843">LAMS_board::read_queue</a>, <a class="el" href="structLAMS__board.html#a5a5668f70e5be8fe342b77056495e64a">LAMS_board::reglock</a>, <a class="el" href="lamsx_8c.html#aebf73c633424be27d6f3860ff8174e07">REPO_REVISION</a>, <a class="el" href="lamsx_8c.html#ae285c556abd3abb1c3f598d880156988">setNAvg()</a>, <a class="el" href="structLAMS__board.html#aadda1daa401b59fa9f31dbc2adef1a68">LAMS_board::specPointSkip</a>, <a class="el" href="lamsx_8c.html#a3427af61836caac890fef3ac1dd9939f">SPECTRAL_POINTS_TO_SKIP</a>, <a class="el" href="lamsx_8c.html#a53a15c49fff1a2a89ba9d25053d8e0c7">work_queue</a>, and <a class="el" href="structLAMS__board.html#a76b107b4c83e15841206606d20ff6f42">LAMS_board::worker</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_aa77c3bd2ee7eaab26013c0afd33540bd_cgraph.png" border="0" usemap="#lamsx_8c_aa77c3bd2ee7eaab26013c0afd33540bd_cgraph" alt=""/></div>
<map name="lamsx_8c_aa77c3bd2ee7eaab26013c0afd33540bd_cgraph" id="lamsx_8c_aa77c3bd2ee7eaab26013c0afd33540bd_cgraph">
<area shape="rect" id="node2" href="lamsx_8c.html#a50547e087745cf6612aa5c919c358f98" title="Work queue function that processes the raw samples from the ISR. " alt="" coords="134,5,271,32"/><area shape="rect" id="node3" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5" title="lams_cleanup" alt="" coords="147,56,258,83"/><area shape="rect" id="node4" href="lamsx_8c.html#ae285c556abd3abb1c3f598d880156988" title="setNAvg" alt="" coords="165,107,240,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04e6d30fb7c764e941b80dd0a5b1082c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long lams_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a3c9a161b89a75a45622266d3677b6df5">LAMS_board::addr</a>, <a class="el" href="ck__lams_8cc.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>, <a class="el" href="lamsx_8h.html#acdc9156162ad861163d41b9788587914">LAMS_GET_STATUS</a>, <a class="el" href="lamsx_8h.html#a15cd3ca7e310360dc94d3b90da33cc02">LAMS_IOC_MAXNR</a>, <a class="el" href="lamsx_8h.html#a01f56bfe7d31f3747517ce699e3bff38">LAMS_MAGIC</a>, <a class="el" href="lamsx_8h.html#ad961e821241f3f857a82c5a2ed937eeb">LAMS_N_AVG</a>, <a class="el" href="lamsx_8h.html#a5dac7171612cba3894e1a42e97f0fa86">LAMS_N_PEAKS</a>, <a class="el" href="lamsx_8h.html#a2f416cbc9067a012151b7c030813dd77">LAMS_N_SKIP</a>, <a class="el" href="lamsx_8h.html#a00c1c1b5ffa3f627d1d4a0acf4810825">LAMS_SET_CHN</a>, <a class="el" href="lamsx_8h.html#a0a968b33135af6cc299716d0191c8837">LAMS_TAS_ABOVE</a>, <a class="el" href="lamsx_8h.html#aff7ea02636815730bf1b82076f6d5a65">LAMS_TAS_BELOW</a>, <a class="el" href="structLAMS__board.html#a45dd3ebd47534d9ef8f65d5319245470">LAMS_board::nAVG</a>, <a class="el" href="structLAMS__board.html#a8af6dfad183330fd9fe99d6f4789bc4d">LAMS_board::nPEAKS</a>, <a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, <a class="el" href="structLAMS__board.html#a5a5668f70e5be8fe342b77056495e64a">LAMS_board::reglock</a>, <a class="el" href="lamsx_8c.html#ae285c556abd3abb1c3f598d880156988">setNAvg()</a>, <a class="el" href="structLAMS__board.html#aadda1daa401b59fa9f31dbc2adef1a68">LAMS_board::specPointSkip</a>, <a class="el" href="structLAMS__board.html#aeaf5d07333bc37254feedae37b8ba0f7">LAMS_board::status</a>, <a class="el" href="lamsx_8c.html#afd5df08c4b2a405202519c9b620b8ab6">TAS_ABOVE_OFFSET</a>, and <a class="el" href="lamsx_8c.html#ac7c21e5b007b83fb2177e660c96d48a6">TAS_BELOW_OFFSET</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_a04e6d30fb7c764e941b80dd0a5b1082c_cgraph.png" border="0" usemap="#lamsx_8c_a04e6d30fb7c764e941b80dd0a5b1082c_cgraph" alt=""/></div>
<map name="lamsx_8c_a04e6d30fb7c764e941b80dd0a5b1082c_cgraph" id="lamsx_8c_a04e6d30fb7c764e941b80dd0a5b1082c_cgraph">
<area shape="rect" id="node2" href="lamsx_8c.html#ae285c556abd3abb1c3f598d880156988" title="setNAvg" alt="" coords="141,5,216,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a851d2bcaa73b34aa52f0b21d4a79ec7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static irqreturn_t lams_irq_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dev_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a7f816df21bf66fe65ae4c4419d58daca">LAMS_board::avg_lsw_data_addr</a>, <a class="el" href="structLAMS__board.html#aa83accd0f16fee110ed97d3b067d3cc3">LAMS_board::avg_msw_data_addr</a>, <a class="el" href="structlams__avg__sample.html#aeddeb9205b50e146e98d23584c442bb0">lams_avg_sample::data</a>, <a class="el" href="structlams__peak__sample.html#a97ad6ee4bb11d19a115aea10430bbd50">lams_peak_sample::data</a>, <a class="el" href="structLAMS__board.html#abc3b9a50162dc8d42f9294f67233a6fd">LAMS_board::isr_avg_samples</a>, <a class="el" href="lamsx_8c.html#ac91526dec13d1d4f26d3e9591f1a467c">LAMS_ISR_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8c.html#a081f8a3925e8ba7fbcecb0525e6afb10">LAMS_OUTPUT_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8h.html#a2b5aa4a4afd10d5f862b8632bf493994">LAMS_SPECAVG_SAMPLE_TYPE</a>, <a class="el" href="lamsx_8h.html#a2b1e4911f2ff54200f78e286635a17ad">LAMS_SPECPEAK_SAMPLE_TYPE</a>, <a class="el" href="lamsx_8h.html#a1daf8c7d7d436add03ad2c26cb3da6a1">LAMS_SPECTRA_SIZE</a>, <a class="el" href="structlams__status.html#af6c3ff2d3af9b3886e9d2b374bcfb8d0">lams_status::missedISRSamples</a>, <a class="el" href="structlams__status.html#a72ca2b6bc6e866ffa53b5f439ca3006d">lams_status::missedOutSamples</a>, <a class="el" href="structLAMS__board.html#a45dd3ebd47534d9ef8f65d5319245470">LAMS_board::nAVG</a>, <a class="el" href="structLAMS__board.html#a8af6dfad183330fd9fe99d6f4789bc4d">LAMS_board::nPEAKS</a>, <a class="el" href="structLAMS__board.html#af0e0026e46a7d5909a38993e9ad50c7b">LAMS_board::nPeaks</a>, <a class="el" href="structLAMS__board.html#afec2d8b89b78fbdd684940fbae66151e">LAMS_board::peak_clear_addr</a>, <a class="el" href="structLAMS__board.html#adf1338aab24d24c6309bcb25f9c3d60f">LAMS_board::peak_data_addr</a>, <a class="el" href="structLAMS__board.html#aeb00537d04e69c4ee6a1feea378c74f0">LAMS_board::peak_samples</a>, <a class="el" href="structLAMS__board.html#ad0988169d5341c440afe0ff90214ce3c">LAMS_board::ram_clear_addr</a>, <a class="el" href="structLAMS__board.html#a9a9e55612942143fdbf633198195d843">LAMS_board::read_queue</a>, <a class="el" href="structLAMS__board.html#a5a5668f70e5be8fe342b77056495e64a">LAMS_board::reglock</a>, <a class="el" href="structLAMS__board.html#aadda1daa401b59fa9f31dbc2adef1a68">LAMS_board::specPointSkip</a>, <a class="el" href="structLAMS__board.html#aeaf5d07333bc37254feedae37b8ba0f7">LAMS_board::status</a>, <a class="el" href="structlams__avg__sample.html#a414f9e3ee516d6e7f9a279d2854e4057">lams_avg_sample::type</a>, <a class="el" href="structlams__peak__sample.html#a6daf41165f130fc97e6f9e7fa1578556">lams_peak_sample::type</a>, <a class="el" href="lamsx_8c.html#a53a15c49fff1a2a89ba9d25053d8e0c7">work_queue</a>, and <a class="el" href="structLAMS__board.html#a76b107b4c83e15841206606d20ff6f42">LAMS_board::worker</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7">lams_request_irq()</a>.</p>

</div>
</div>
<a class="anchor" id="a3003874568c899e0b94e2317385592e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lams_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a3c9a161b89a75a45622266d3677b6df5">LAMS_board::addr</a>, <a class="el" href="nidas__util_8c.html#a300153253ae0c68c2c41206be69adb45">alloc_dsm_circ_buf()</a>, <a class="el" href="structLAMS__board.html#aae7b9a703a8178ffec36d742bb82cff3">LAMS_board::avg_read_state</a>, <a class="el" href="structLAMS__board.html#a5219f092c788be07371159e7afaeb6dd">LAMS_board::avg_samples</a>, <a class="el" href="structLAMS__board.html#ae0ed37b06b9ddf097e31a813c943d4f4">LAMS_board::bh_data</a>, <a class="el" href="structLAMS__board.html#ad91f6ecaf9b0f99a967f5fe04b545add">LAMS_board::deviceName</a>, <a class="el" href="structLAMS__board.html#abc3b9a50162dc8d42f9294f67233a6fd">LAMS_board::isr_avg_samples</a>, <a class="el" href="lamsx_8c.html#ac91526dec13d1d4f26d3e9591f1a467c">LAMS_ISR_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8c.html#a081f8a3925e8ba7fbcecb0525e6afb10">LAMS_OUTPUT_SAMPLE_QUEUE_SIZE</a>, <a class="el" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7">lams_request_irq()</a>, <a class="el" href="structLAMS__board.html#af0e0026e46a7d5909a38993e9ad50c7b">LAMS_board::nPeaks</a>, <a class="el" href="structLAMS__board.html#a3a40eb76731c04d4e308f30a9037bd15">LAMS_board::num_opened</a>, <a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, <a class="el" href="structLAMS__board.html#adf148b8efc6954af55a2875d2e59cd91">LAMS_board::peak_read_state</a>, <a class="el" href="structLAMS__board.html#aeb00537d04e69c4ee6a1feea378c74f0">LAMS_board::peak_samples</a>, <a class="el" href="types_8h.html#a12e306a25d958ea054333cc707966be5">SIZEOF_DSM_SAMPLE_HEADER</a>, and <a class="el" href="structLAMS__board.html#aeaf5d07333bc37254feedae37b8ba0f7">LAMS_board::status</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_a3003874568c899e0b94e2317385592e7_cgraph.png" border="0" usemap="#lamsx_8c_a3003874568c899e0b94e2317385592e7_cgraph" alt=""/></div>
<map name="lamsx_8c_a3003874568c899e0b94e2317385592e7_cgraph" id="lamsx_8c_a3003874568c899e0b94e2317385592e7_cgraph">
<area shape="rect" id="node2" href="nidas__util_8c.html#a300153253ae0c68c2c41206be69adb45" title="alloc_dsm_circ_buf" alt="" coords="147,5,290,32"/><area shape="rect" id="node3" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7" title="lams_request_irq" alt="" coords="153,56,285,83"/><area shape="rect" id="node4" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c" title="lams_irq_handler" alt="" coords="339,56,469,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fdd0b8f846a26ff71e3fcc38c141ba2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int lams_poll </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">poll_table *&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#aae7b9a703a8178ffec36d742bb82cff3">LAMS_board::avg_read_state</a>, <a class="el" href="structLAMS__board.html#a5219f092c788be07371159e7afaeb6dd">LAMS_board::avg_samples</a>, <a class="el" href="structLAMS__board.html#adf148b8efc6954af55a2875d2e59cd91">LAMS_board::peak_read_state</a>, <a class="el" href="structLAMS__board.html#aeb00537d04e69c4ee6a1feea378c74f0">LAMS_board::peak_samples</a>, and <a class="el" href="structLAMS__board.html#a9a9e55612942143fdbf633198195d843">LAMS_board::read_queue</a>.</p>

</div>
</div>
<a class="anchor" id="ace3ea911d5aabfdb80706cde3bdbf746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lams_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char __user *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>f_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#aae7b9a703a8178ffec36d742bb82cff3">LAMS_board::avg_read_state</a>, <a class="el" href="structLAMS__board.html#a5219f092c788be07371159e7afaeb6dd">LAMS_board::avg_samples</a>, <a class="el" href="nidas__util_8c.html#ace2c2b9441f0dafe89d3a00790b996ae">nidas_circbuf_read_nowait()</a>, <a class="el" href="structLAMS__board.html#adf148b8efc6954af55a2875d2e59cd91">LAMS_board::peak_read_state</a>, <a class="el" href="structLAMS__board.html#aeb00537d04e69c4ee6a1feea378c74f0">LAMS_board::peak_samples</a>, and <a class="el" href="structLAMS__board.html#a9a9e55612942143fdbf633198195d843">LAMS_board::read_queue</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_ace3ea911d5aabfdb80706cde3bdbf746_cgraph.png" border="0" usemap="#lamsx_8c_ace3ea911d5aabfdb80706cde3bdbf746_cgraph" alt=""/></div>
<map name="lamsx_8c_ace3ea911d5aabfdb80706cde3bdbf746_cgraph" id="lamsx_8c_ace3ea911d5aabfdb80706cde3bdbf746_cgraph">
<area shape="rect" id="node2" href="nidas__util_8c.html#ace2c2b9441f0dafe89d3a00790b996ae" title="nidas_circbuf_read\l_nowait" alt="" coords="144,5,285,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d0a25cb2daddbd8522d1d42ed417dee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lams_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a5219f092c788be07371159e7afaeb6dd">LAMS_board::avg_samples</a>, <a class="el" href="nidas__util_8c.html#a35b6ad4d4ef9f630b31570c9a20e6ee3">free_dsm_circ_buf()</a>, <a class="el" href="structLAMS__board.html#abc3b9a50162dc8d42f9294f67233a6fd">LAMS_board::isr_avg_samples</a>, <a class="el" href="lamsx_8c.html#a7c1df4ed73cb6ca65320aadcb39babdb">lams_remove_irq()</a>, <a class="el" href="structLAMS__board.html#a3a40eb76731c04d4e308f30a9037bd15">LAMS_board::num_opened</a>, <a class="el" href="lamsx_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>, <a class="el" href="structLAMS__board.html#aeb00537d04e69c4ee6a1feea378c74f0">LAMS_board::peak_samples</a>, and <a class="el" href="lamsx_8c.html#a53a15c49fff1a2a89ba9d25053d8e0c7">work_queue</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_a9d0a25cb2daddbd8522d1d42ed417dee_cgraph.png" border="0" usemap="#lamsx_8c_a9d0a25cb2daddbd8522d1d42ed417dee_cgraph" alt=""/></div>
<map name="lamsx_8c_a9d0a25cb2daddbd8522d1d42ed417dee_cgraph" id="lamsx_8c_a9d0a25cb2daddbd8522d1d42ed417dee_cgraph">
<area shape="rect" id="node2" href="nidas__util_8c.html#a35b6ad4d4ef9f630b31570c9a20e6ee3" title="free_dsm_circ_buf" alt="" coords="160,5,299,32"/><area shape="rect" id="node3" href="lamsx_8c.html#a7c1df4ed73cb6ca65320aadcb39babdb" title="lams_remove_irq" alt="" coords="163,56,295,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c1df4ed73cb6ca65320aadcb39babdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lams_remove_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *&#160;</td>
          <td class="paramname"><em>brd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#aa060f728905c7a9a43ceb8a0de5c88b3">LAMS_board::irq</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release()</a>.</p>

</div>
</div>
<a class="anchor" id="afbcdba45fd2e7241e4e0b2ac4e01c4c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lams_request_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *&#160;</td>
          <td class="paramname"><em>brd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#ad91f6ecaf9b0f99a967f5fe04b545add">LAMS_board::deviceName</a>, <a class="el" href="lamsx_8c.html#ab3fdbf22ceb27dc84c580c6478e1175b">driver_name</a>, <a class="el" href="structLAMS__board.html#aa060f728905c7a9a43ceb8a0de5c88b3">LAMS_board::irq</a>, <a class="el" href="lamsx_8c.html#a7cbdc3c1aff32a8d483a523803639534">irqs</a>, <a class="el" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c">lams_irq_handler()</a>, and <a class="el" href="structLAMS__board.html#aa410cb53c6edcb87feed6aec69fd3b71">LAMS_board::num</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="lamsx_8c_afbcdba45fd2e7241e4e0b2ac4e01c4c7_cgraph.png" border="0" usemap="#lamsx_8c_afbcdba45fd2e7241e4e0b2ac4e01c4c7_cgraph" alt=""/></div>
<map name="lamsx_8c_afbcdba45fd2e7241e4e0b2ac4e01c4c7_cgraph" id="lamsx_8c_afbcdba45fd2e7241e4e0b2ac4e01c4c7_cgraph">
<area shape="rect" id="node2" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c" title="lams_irq_handler" alt="" coords="187,5,317,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7cc4f1611721a60ee94d83fced443472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR </td>
          <td>(</td>
          <td class="paramtype">&quot;Gordon Maclean &lt;maclean@ucar.edu&gt;&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7464098d4a1894e16d7beaf805c05511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;Driver for LAMX card&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4cbab0df3476fca2b9b8a03b37d54e5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c01256704c17ff51cc2c10d6ba24a73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c95e2cd11cba226f5f3513060a8928e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;Dual BSD/GPL&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab192c036c587c4badfcdef59137d9a3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcmcom8_8c.html#a1ac50468ac3c01644eec03fb49e232f3">ioports</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mesa_8c.html#ad1113f8715749331088b7082526f87a1">numboards</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ba69b425b965e2e1124f539a2f90f49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lamsx_8c.html#a7cbdc3c1aff32a8d483a523803639534">irqs</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lamsx_8c.html#a142c880f23e0979a17f2f5cc02b24940">numirqs</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5254ca30e6e46bc7b28c17b101e23cd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_VERSION </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="viper__dio_8c.html#aebf73c633424be27d6f3860ff8174e07">REPO_REVISION</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae285c556abd3abb1c3f598d880156988"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setNAvg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structLAMS__board.html">LAMS_board</a> *&#160;</td>
          <td class="paramname"><em>brd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structLAMS__board.html#a08a9ae7bb0b424f03161b35fe36d26c5">LAMS_board::avgMask</a>, <a class="el" href="structLAMS__board.html#ac7f4ede34b4c2cf85d9bf848916f63e1">LAMS_board::avgShift</a>, and <a class="el" href="structLAMS__board.html#a45dd3ebd47534d9ef8f65d5319245470">LAMS_board::nAVG</a>.</p>

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>, and <a class="el" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2958f8a19d2d0a7fb4dafaab14c87d7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structLAMS__board.html">LAMS_board</a>* boards = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab3fdbf22ceb27dc84c580c6478e1175b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* driver_name = &quot;lamsx&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>, and <a class="el" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7">lams_request_irq()</a>.</p>

</div>
</div>
<a class="anchor" id="a3446a78cd7adb8891e301ce99ad4065e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ioports[<a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>] = { 0x220, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cbdc3c1aff32a8d483a523803639534"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int irqs[<a class="el" href="lamsx_8c.html#ae5f36e208a8568a7cfe29080f4b3b270">MAX_LAMS_BOARDS</a>] = { 4, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>, and <a class="el" href="lamsx_8c.html#afbcdba45fd2e7241e4e0b2ac4e01c4c7">lams_request_irq()</a>.</p>

</div>
</div>
<a class="anchor" id="a71303a7ed3040c882c49a98a76c7790f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct class* lams_class</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, and <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="add1cb1990c1c2b8d92f3e7106a2bcf88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dev_t lams_device = MKDEV(0,0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, and <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad978d66b8c909453b70a39b6f2a34e67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations lams_fops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        .owner   = THIS_MODULE,</div>
<div class="line">        .read    = <a class="code" href="lamsx_8c.html#ace3ea911d5aabfdb80706cde3bdbf746">lams_read</a>,</div>
<div class="line">        .poll    = <a class="code" href="lamsx_8c.html#a5fdd0b8f846a26ff71e3fcc38c141ba2">lams_poll</a>,</div>
<div class="line">        .open    = <a class="code" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open</a>,</div>
<div class="line">        .unlocked_ioctl   = <a class="code" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl</a>,</div>
<div class="line">        .release = <a class="code" href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release</a>,</div>
<div class="line">        .llseek  = no_llseek,</div>
<div class="line">}</div>
<div class="ttc" id="lamsx_8c_html_a9d0a25cb2daddbd8522d1d42ed417dee"><div class="ttname"><a href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release</a></div><div class="ttdeci">static int lams_release(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> lamsx.c:589</div></div>
<div class="ttc" id="lamsx_8c_html_a04e6d30fb7c764e941b80dd0a5b1082c"><div class="ttname"><a href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl</a></div><div class="ttdeci">static long lams_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> lamsx.c:661</div></div>
<div class="ttc" id="lamsx_8c_html_a5fdd0b8f846a26ff71e3fcc38c141ba2"><div class="ttname"><a href="lamsx_8c.html#a5fdd0b8f846a26ff71e3fcc38c141ba2">lams_poll</a></div><div class="ttdeci">static unsigned int lams_poll(struct file *filp, poll_table *wait)</div><div class="ttdef"><b>Definition:</b> lamsx.c:646</div></div>
<div class="ttc" id="lamsx_8c_html_a3003874568c899e0b94e2317385592e7"><div class="ttname"><a href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open</a></div><div class="ttdeci">static int lams_open(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> lamsx.c:527</div></div>
<div class="ttc" id="lamsx_8c_html_ace3ea911d5aabfdb80706cde3bdbf746"><div class="ttname"><a href="lamsx_8c.html#ace3ea911d5aabfdb80706cde3bdbf746">lams_read</a></div><div class="ttdeci">static ssize_t lams_read(struct file *filp, char __user *buf, size_t count, loff_t *f_pos)</div><div class="ttdef"><b>Definition:</b> lamsx.c:617</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1113f8715749331088b7082526f87a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int numboards = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>, <a class="el" href="lamsx_8c.html#a04e6d30fb7c764e941b80dd0a5b1082c">lams_ioctl()</a>, <a class="el" href="lamsx_8c.html#a3003874568c899e0b94e2317385592e7">lams_open()</a>, and <a class="el" href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a142c880f23e0979a17f2f5cc02b24940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int numirqs = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a53a15c49fff1a2a89ba9d25053d8e0c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct workqueue_struct* work_queue = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="lamsx_8c.html#a8dac64a0c7995ae83c1596ebdea1f0c5">lams_cleanup()</a>, <a class="el" href="lamsx_8c.html#aa77c3bd2ee7eaab26013c0afd33540bd">lams_init()</a>, <a class="el" href="lamsx_8c.html#a851d2bcaa73b34aa52f0b21d4a79ec7c">lams_irq_handler()</a>, and <a class="el" href="lamsx_8c.html#a9d0a25cb2daddbd8522d1d42ed417dee">lams_release()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
