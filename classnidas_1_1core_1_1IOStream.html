<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>nidas: nidas::core::IOStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nidas
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenidas.html">nidas</a></li><li class="navelem"><a class="el" href="namespacenidas_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classnidas_1_1core_1_1IOStream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nidas::core::IOStream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A base class for buffering data.  
 <a href="classnidas_1_1core_1_1IOStream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="IOStream_8h_source.html">IOStream.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for nidas::core::IOStream:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream__coll__graph.png" border="0" usemap="#nidas_1_1core_1_1IOStream_coll__map" alt="Collaboration graph"/></div>
<map name="nidas_1_1core_1_1IOStream_coll__map" id="nidas_1_1core_1_1IOStream_coll__map">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOChannel.html" title="A channel for Input or Output of data. " alt="" coords="1605,185,1771,212"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1DOMable.html" title="Interface of an object that can be instantiated from a DOM element, via the fromDOMElement method..." alt="" coords="23,617,182,644"/><area shape="rect" id="node10" href="classnidas_1_1core_1_1DSMConfig.html" title="Class that should include all that is configurable about a DSM. " alt="" coords="1297,353,1468,380"/><area shape="rect" id="node13" href="classnidas_1_1core_1_1Site.html" title="A measurement site. " alt="" coords="991,567,1116,593"/><area shape="rect" id="node14" href="classnidas_1_1core_1_1Project.html" title="nidas::core::Project" alt="" coords="677,660,821,687"/><area shape="rect" id="node15" href="classnidas_1_1core_1_1DSMCatalog.html" title="A catalog of DSM DOMElements, implemented with std::map, containing dsm DOMElements, keyed by the ID attributes. " alt="" coords="308,719,487,745"/><area shape="rect" id="node19" href="classnidas_1_1core_1_1ServiceCatalog.html" title="A catalog of dsm DOMElements, implemented with std::map, containing dsm DOMElements, keyed by the ID attributes. " alt="" coords="299,617,495,644"/><area shape="rect" id="node20" href="classnidas_1_1core_1_1SensorCatalog.html" title="A catalog of sensor DOMElements, implemented with std::map, containing sensor DOMElements, keyed by the ID attributes. " alt="" coords="300,668,495,695"/><area shape="rect" id="node4" href="classnidas_1_1core_1_1ConnectionInfo.html" title="Extra information associated with an IOChannel concerning the connection. " alt="" coords="1285,96,1480,123"/><area shape="rect" id="node5" href="classnidas_1_1util_1_1Inet4Address.html" title="Support for IP version 4 host address. " alt="" coords="662,21,837,48"/><area shape="rect" id="node6" href="classnidas_1_1util_1_1Inet4NetworkInterface.html" title="nidas::util::Inet4Network\lInterface" alt="" coords="966,54,1141,95"/><area shape="rect" id="node21" href="classnidas_1_1core_1_1Dataset.html" title="A Dataset is a named collection of parameters, that are used in data processing. " alt="" coords="322,516,473,543"/><area shape="rect" id="node8" href="classnidas_1_1util_1_1Inet4SocketAddress.html" title="A IP version 4 socket address, containing a host address, and a port number. " alt="" coords="970,119,1137,161"/><area shape="rect" id="node9" href="classnidas_1_1util_1_1SocketAddress.html" title="An interface for a socket address. " alt="" coords="656,151,843,177"/><area shape="rect" id="node11" href="classnidas_1_1core_1_1DSMConfig_1_1MyDictionary.html" title="nidas::core::DSMConfig\l::MyDictionary" alt="" coords="1603,391,1773,433"/><area shape="rect" id="node12" href="classnidas_1_1core_1_1Dictionary.html" title="Interface for a Dictionary class, which can return a string value for a string token name..." alt="" coords="667,769,831,796"/><area shape="rect" id="node16" href="classnidas_1_1core_1_1Project_1_1MyDictionary.html" title="nidas::core::Project\l::MyDictionary" alt="" coords="981,685,1125,726"/><area shape="rect" id="node22" href="classnidas_1_1core_1_1Site_1_1MyDictionary.html" title="nidas::core::Site::\lMyDictionary" alt="" coords="1316,605,1449,646"/><area shape="rect" id="node17" href="classnidas_1_1util_1_1Mutex.html" title="A C++ wrapper for a POSIX mutex. " alt="" coords="332,820,463,847"/><area shape="rect" id="node18" href="classnidas_1_1util_1_1MutexAttributes.html" title="A C++ wrapper for a POSIX mutex attributes. " alt="" coords="6,820,199,847"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad173d81e33de59db7e087934e7dd02d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ad173d81e33de59db7e087934e7dd02d5">IOStream</a> (<a class="el" href="classnidas_1_1core_1_1IOChannel.html">IOChannel</a> &amp;input, size_t buflen=8192)</td></tr>
<tr class="memdesc:ad173d81e33de59db7e087934e7dd02d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>.  <a href="#ad173d81e33de59db7e087934e7dd02d5">More...</a><br/></td></tr>
<tr class="separator:ad173d81e33de59db7e087934e7dd02d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073f8803647025282095171289b9f99f"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a073f8803647025282095171289b9f99f">~IOStream</a> ()</td></tr>
<tr class="separator:a073f8803647025282095171289b9f99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac344a3623556041834de14a3c7f0d02c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c">available</a> () const </td></tr>
<tr class="memdesc:ac344a3623556041834de14a3c7f0d02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes available to be copied from the buffer of <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>.  <a href="#ac344a3623556041834de14a3c7f0d02c">More...</a><br/></td></tr>
<tr class="separator:ac344a3623556041834de14a3c7f0d02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf10217652d32975bbb0466bb4b464db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf10217652d32975bbb0466bb4b464db">isNewInput</a> () const </td></tr>
<tr class="memdesc:aaf10217652d32975bbb0466bb4b464db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Did last <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2" title="Do an IOChannel::read into the internal buffer of IOStream. ">read()</a>, or read(buf,len) call result in a new file being opened?  <a href="#aaf10217652d32975bbb0466bb4b464db">More...</a><br/></td></tr>
<tr class="separator:aaf10217652d32975bbb0466bb4b464db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad828fb2a810571c703b1a2ea8263dcf2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read</a> ()  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:ad828fb2a810571c703b1a2ea8263dcf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read</a> into the internal buffer of <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>.  <a href="#ad828fb2a810571c703b1a2ea8263dcf2">More...</a><br/></td></tr>
<tr class="separator:ad828fb2a810571c703b1a2ea8263dcf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b6630884b1fcf23f9e3315c25c8517"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a14b6630884b1fcf23f9e3315c25c8517">readBuf</a> (void *buf, size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>)  throw ()</td></tr>
<tr class="memdesc:a14b6630884b1fcf23f9e3315c25c8517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy available bytes from the internal buffer to buf, returning the number of bytes copied, which may be less then len.  <a href="#a14b6630884b1fcf23f9e3315c25c8517">More...</a><br/></td></tr>
<tr class="separator:a14b6630884b1fcf23f9e3315c25c8517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00869d015ef9c1e4d57def6f078d076"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ae00869d015ef9c1e4d57def6f078d076">read</a> (void *buf, size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>)  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:ae00869d015ef9c1e4d57def6f078d076"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read len bytes of data into buf.  <a href="#ae00869d015ef9c1e4d57def6f078d076">More...</a><br/></td></tr>
<tr class="separator:ae00869d015ef9c1e4d57def6f078d076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0884c10c13e3ad4c66054095545f8321"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a0884c10c13e3ad4c66054095545f8321">skip</a> (size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>)  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:a0884c10c13e3ad4c66054095545f8321"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the internal buffer is empty, do an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read</a> into the buffer.  <a href="#a0884c10c13e3ad4c66054095545f8321">More...</a><br/></td></tr>
<tr class="separator:a0884c10c13e3ad4c66054095545f8321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d51f5ebbd58850cf172db0c15f71c4e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a8d51f5ebbd58850cf172db0c15f71c4e">backup</a> (size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>)  throw ()</td></tr>
<tr class="memdesc:a8d51f5ebbd58850cf172db0c15f71c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the read buffer pointer backwards by len number of bytes, so that the next readBuf will return data that was previously read.  <a href="#a8d51f5ebbd58850cf172db0c15f71c4e">More...</a><br/></td></tr>
<tr class="separator:a8d51f5ebbd58850cf172db0c15f71c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7c759c0c1fff15326e9a95234a4bea"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#abc7c759c0c1fff15326e9a95234a4bea">backup</a> ()  throw ()</td></tr>
<tr class="memdesc:abc7c759c0c1fff15326e9a95234a4bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the read buffer pointer backwards to the beginning of the buffer.  <a href="#abc7c759c0c1fff15326e9a95234a4bea">More...</a><br/></td></tr>
<tr class="separator:abc7c759c0c1fff15326e9a95234a4bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b001cc35433a00fca2c0f9bf1726296"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a7b001cc35433a00fca2c0f9bf1726296">readUntil</a> (void *buf, size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>, char term)  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:a7b001cc35433a00fca2c0f9bf1726296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read into the user buffer until a terminating character is found or len-1 bytes have been read.  <a href="#a7b001cc35433a00fca2c0f9bf1726296">More...</a><br/></td></tr>
<tr class="separator:a7b001cc35433a00fca2c0f9bf1726296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eaa8ac91411f9d880620f600434ab08"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a8eaa8ac91411f9d880620f600434ab08">write</a> (const struct iovec *iov, int nbufs, bool <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush</a>)  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:a8eaa8ac91411f9d880620f600434ab08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data.  <a href="#a8eaa8ac91411f9d880620f600434ab08">More...</a><br/></td></tr>
<tr class="separator:a8eaa8ac91411f9d880620f600434ab08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6ba488bbe8a5f49c3b857ab8ff4404"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a4c6ba488bbe8a5f49c3b857ab8ff4404">write</a> (const void *buf, size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>, bool <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush</a>)  throw (nidas::util::IOException)</td></tr>
<tr class="separator:a4c6ba488bbe8a5f49c3b857ab8ff4404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ace18fad9276e26ef4802a1560086bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush</a> ()  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:a1ace18fad9276e26ef4802a1560086bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush buffer to physical device.  <a href="#a1ace18fad9276e26ef4802a1560086bf">More...</a><br/></td></tr>
<tr class="separator:a1ace18fad9276e26ef4802a1560086bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5e1ec4650797e7be78cb29918a9a1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">dsm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#abd5e1ec4650797e7be78cb29918a9a1c">createFile</a> (<a class="el" href="namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">dsm_time_t</a> t, bool exact)  throw (nidas::util::IOException)</td></tr>
<tr class="memdesc:abd5e1ec4650797e7be78cb29918a9a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request that <a class="el" href="classnidas_1_1core_1_1IOChannel.html" title="A channel for Input or Output of data. ">IOChannel</a> object open a new file, with a name based on a time.  <a href="#abd5e1ec4650797e7be78cb29918a9a1c">More...</a><br/></td></tr>
<tr class="separator:abd5e1ec4650797e7be78cb29918a9a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830da98b1066a31d5f6fdccf749a3b06"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a830da98b1066a31d5f6fdccf749a3b06">getName</a> () const </td></tr>
<tr class="separator:a830da98b1066a31d5f6fdccf749a3b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e3ebfdc472db9d24b5c3e90e4db650"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#aa5e3ebfdc472db9d24b5c3e90e4db650">getNumInputBytes</a> () const </td></tr>
<tr class="memdesc:aa5e3ebfdc472db9d24b5c3e90e4db650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes read with this <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>.  <a href="#aa5e3ebfdc472db9d24b5c3e90e4db650">More...</a><br/></td></tr>
<tr class="separator:aa5e3ebfdc472db9d24b5c3e90e4db650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03cee4bfc98f0bde0bb1073ed6b04696"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a03cee4bfc98f0bde0bb1073ed6b04696">addNumInputBytes</a> (int val)</td></tr>
<tr class="separator:a03cee4bfc98f0bde0bb1073ed6b04696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ac96569880de07c19eaa85b014e6f0"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a73ac96569880de07c19eaa85b014e6f0">getNumOutputBytes</a> () const </td></tr>
<tr class="memdesc:a73ac96569880de07c19eaa85b014e6f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes written with this <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>.  <a href="#a73ac96569880de07c19eaa85b014e6f0">More...</a><br/></td></tr>
<tr class="separator:a73ac96569880de07c19eaa85b014e6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700471db8265705be95e7581072a1f4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a700471db8265705be95e7581072a1f4e">addNumOutputBytes</a> (int val)</td></tr>
<tr class="separator:a700471db8265705be95e7581072a1f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a567f5e3ec860b0fdf5e29faaa2baad8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer</a> (size_t <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="separator:a567f5e3ec860b0fdf5e29faaa2baad8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab9dd408ed6ed91dc8319a51d0441e6bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnidas_1_1core_1_1IOChannel.html">IOChannel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ab9dd408ed6ed91dc8319a51d0441e6bb">_iochannel</a></td></tr>
<tr class="separator:ab9dd408ed6ed91dc8319a51d0441e6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abfe0628faf8e9381673f4b914c916609"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#abfe0628faf8e9381673f4b914c916609">IOStream</a> (const <a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a> &amp;)</td></tr>
<tr class="memdesc:abfe0628faf8e9381673f4b914c916609"><td class="mdescLeft">&#160;</td><td class="mdescRight">No copying.  <a href="#abfe0628faf8e9381673f4b914c916609">More...</a><br/></td></tr>
<tr class="separator:abfe0628faf8e9381673f4b914c916609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffdab06783160a904f8fc54b6c51804"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#adffdab06783160a904f8fc54b6c51804">operator=</a> (const <a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a> &amp;)</td></tr>
<tr class="memdesc:adffdab06783160a904f8fc54b6c51804"><td class="mdescLeft">&#160;</td><td class="mdescRight">No assignment.  <a href="#adffdab06783160a904f8fc54b6c51804">More...</a><br/></td></tr>
<tr class="separator:adffdab06783160a904f8fc54b6c51804"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a22e7e35253bd1e8511b103e2f5a7d52d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a></td></tr>
<tr class="memdesc:a22e7e35253bd1e8511b103e2f5a7d52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">data buffer  <a href="#a22e7e35253bd1e8511b103e2f5a7d52d">More...</a><br/></td></tr>
<tr class="separator:a22e7e35253bd1e8511b103e2f5a7d52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded8a0c2162234741fe0c0710679b6b1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#aded8a0c2162234741fe0c0710679b6b1">_head</a></td></tr>
<tr class="memdesc:aded8a0c2162234741fe0c0710679b6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">where we insert bytes into the buffer  <a href="#aded8a0c2162234741fe0c0710679b6b1">More...</a><br/></td></tr>
<tr class="separator:aded8a0c2162234741fe0c0710679b6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951871258255d926f4e3f002762964bb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a></td></tr>
<tr class="memdesc:a951871258255d926f4e3f002762964bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">where we remove bytes from the buffer  <a href="#a951871258255d926f4e3f002762964bb">More...</a><br/></td></tr>
<tr class="separator:a951871258255d926f4e3f002762964bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5009453d81d59bae2d900bca7dfaf296"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a5009453d81d59bae2d900bca7dfaf296">_buflen</a></td></tr>
<tr class="memdesc:a5009453d81d59bae2d900bca7dfaf296"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual buffer size.  <a href="#a5009453d81d59bae2d900bca7dfaf296">More...</a><br/></td></tr>
<tr class="separator:a5009453d81d59bae2d900bca7dfaf296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3786fb3006822243825494ea202fe28c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a3786fb3006822243825494ea202fe28c">_halflen</a></td></tr>
<tr class="separator:a3786fb3006822243825494ea202fe28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c45c6c3d9944685e9af172d7b893805"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a8c45c6c3d9944685e9af172d7b893805">_eob</a></td></tr>
<tr class="memdesc:a8c45c6c3d9944685e9af172d7b893805"><td class="mdescLeft">&#160;</td><td class="mdescRight">One past end of buffer.  <a href="#a8c45c6c3d9944685e9af172d7b893805">More...</a><br/></td></tr>
<tr class="separator:a8c45c6c3d9944685e9af172d7b893805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d38474ed54d1c300ade7b27abf052c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a63d38474ed54d1c300ade7b27abf052c">_newInput</a></td></tr>
<tr class="memdesc:a63d38474ed54d1c300ade7b27abf052c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Was the previous read performed on a newly opened file?  <a href="#a63d38474ed54d1c300ade7b27abf052c">More...</a><br/></td></tr>
<tr class="separator:a63d38474ed54d1c300ade7b27abf052c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf38d4c1ba0a329cfe1d8f397eb91e82"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf38d4c1ba0a329cfe1d8f397eb91e82">_nbytesIn</a></td></tr>
<tr class="separator:aaf38d4c1ba0a329cfe1d8f397eb91e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21c9cbbcb3ae24436d8d6282083296f"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#ad21c9cbbcb3ae24436d8d6282083296f">_nbytesOut</a></td></tr>
<tr class="separator:ad21c9cbbcb3ae24436d8d6282083296f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e51bcebcece461285c40ba06351bc30"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1core_1_1IOStream.html#a1e51bcebcece461285c40ba06351bc30">_nEAGAIN</a></td></tr>
<tr class="separator:a1e51bcebcece461285c40ba06351bc30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for buffering data. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad173d81e33de59db7e087934e7dd02d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IOStream::IOStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnidas_1_1core_1_1IOChannel.html">IOChannel</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em> = <code>8192</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input,:</td><td>reference to an Input object providing the physical IO </td></tr>
    <tr><td class="paramname">buflen,:</td><td>length of buffer, in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_ad173d81e33de59db7e087934e7dd02d5_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_ad173d81e33de59db7e087934e7dd02d5_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_ad173d81e33de59db7e087934e7dd02d5_cgraph" id="classnidas_1_1core_1_1IOStream_ad173d81e33de59db7e087934e7dd02d5_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f" title="nidas::core::IOStream\l::reallocateBuffer" alt="" coords="217,5,378,46"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOStream.html#a830da98b1066a31d5f6fdccf749a3b06" title="nidas::core::IOStream\l::getName" alt="" coords="427,5,589,46"/><area shape="rect" id="node4" href="classnidas_1_1core_1_1IOChannel.html#ac7b72aca1f3d3a39996ce5cf3a32d490" title="nidas::core::IOChannel\l::getName" alt="" coords="637,5,803,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a073f8803647025282095171289b9f99f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IOStream::~IOStream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a>.</p>

</div>
</div>
<a class="anchor" id="abfe0628faf8e9381673f4b914c916609"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nidas::core::IOStream::IOStream </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No copying. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a03cee4bfc98f0bde0bb1073ed6b04696"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nidas::core::IOStream::addNumInputBytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf38d4c1ba0a329cfe1d8f397eb91e82">_nbytesIn</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a14b6630884b1fcf23f9e3315c25c8517">readBuf()</a>.</p>

</div>
</div>
<a class="anchor" id="a700471db8265705be95e7581072a1f4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nidas::core::IOStream::addNumOutputBytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad21c9cbbcb3ae24436d8d6282083296f">_nbytesOut</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>.</p>

</div>
</div>
<a class="anchor" id="ac344a3623556041834de14a3c7f0d02c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::core::IOStream::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes available to be copied from the buffer of <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#aded8a0c2162234741fe0c0710679b6b1">_head</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a14b6630884b1fcf23f9e3315c25c8517">readBuf()</a>, and <a class="el" href="classHeaderUtil.html#a2a3633bc49048f69645b31012e7e5fdd">HeaderUtil::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d51f5ebbd58850cf172db0c15f71c4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::backup </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the read buffer pointer backwards by len number of bytes, so that the next readBuf will return data that was previously read. </p>
<p>This just backs over bytes in the current buffer, and does not reposition the physical device. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes backed over, which may be less than the number requested if there are fewer than len number of bytes in the buffer. </dd></dl>

<p>References <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

</div>
</div>
<a class="anchor" id="abc7c759c0c1fff15326e9a95234a4bea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::backup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the read buffer pointer backwards to the beginning of the buffer. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>.</p>

</div>
</div>
<a class="anchor" id="abd5e1ec4650797e7be78cb29918a9a1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">dsm_time_t</a> nidas::core::IOStream::createFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">dsm_time_t</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request that <a class="el" href="classnidas_1_1core_1_1IOChannel.html" title="A channel for Input or Output of data. ">IOChannel</a> object open a new file, with a name based on a time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Time to use when creating file name. </td></tr>
    <tr><td class="paramname">exact</td><td>Use exact time when creating file name, else the time is truncated down to an even time interval. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Start time of next file. </dd></dl>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#ab9dd408ed6ed91dc8319a51d0441e6bb">_iochannel</a>, <a class="el" href="classnidas_1_1core_1_1IOChannel.html#ae3fe5aa13cd3cfd16e29b0c8277c3f0f">nidas::core::IOChannel::createFile()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_abd5e1ec4650797e7be78cb29918a9a1c_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_abd5e1ec4650797e7be78cb29918a9a1c_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_abd5e1ec4650797e7be78cb29918a9a1c_cgraph" id="classnidas_1_1core_1_1IOStream_abd5e1ec4650797e7be78cb29918a9a1c_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOChannel.html#ae3fe5aa13cd3cfd16e29b0c8277c3f0f" title="Request that an IOChannel open a new file, with a name based on a time. " alt="" coords="216,38,381,79"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf" title="Flush buffer to physical device. " alt="" coords="218,103,379,145"/><area shape="rect" id="node4" href="classnidas_1_1core_1_1IOChannel.html#aeea332fa47970ef41714cac85a49c9b5" title="Physical write method which must be implemented in derived classes. " alt="" coords="429,5,595,46"/><area shape="rect" id="node5" href="classnidas_1_1core_1_1IOStream.html#a700471db8265705be95e7581072a1f4e" title="nidas::core::IOStream\l::addNumOutputBytes" alt="" coords="429,70,595,111"/><area shape="rect" id="node6" href="classnidas_1_1util_1_1Exception.html#a980845bb9a0fb107d8b216e8099c1b0b" title="nidas::util::Exception\l::getErrno" alt="" coords="435,135,589,177"/><area shape="rect" id="node7" href="classnidas_1_1core_1_1IOChannel.html#a652118cfca982a2dd675e8272e47ae60" title="Default flush implementation does nothing. " alt="" coords="429,201,595,242"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ace18fad9276e26ef4802a1560086bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOStream::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush buffer to physical device. </p>
<p>This is not done automatically by the destructor - the user must call flush before destroying this <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#aded8a0c2162234741fe0c0710679b6b1">_head</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ab9dd408ed6ed91dc8319a51d0441e6bb">_iochannel</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a700471db8265705be95e7581072a1f4e">addNumOutputBytes()</a>, <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a652118cfca982a2dd675e8272e47ae60">nidas::core::IOChannel::flush()</a>, <a class="el" href="classnidas_1_1util_1_1Exception.html#a980845bb9a0fb107d8b216e8099c1b0b">nidas::util::Exception::getErrno()</a>, and <a class="el" href="classnidas_1_1core_1_1IOChannel.html#aeea332fa47970ef41714cac85a49c9b5">nidas::core::IOChannel::write()</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#abd5e1ec4650797e7be78cb29918a9a1c">createFile()</a>, <a class="el" href="classnidas_1_1dynld_1_1SampleOutputStream.html#aef589fc208952c87ed98dbe6ca743f53">nidas::dynld::SampleOutputStream::flush()</a>, and <a class="el" href="classHeaderUtil.html#a2a3633bc49048f69645b31012e7e5fdd">HeaderUtil::run()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_a1ace18fad9276e26ef4802a1560086bf_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_a1ace18fad9276e26ef4802a1560086bf_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_a1ace18fad9276e26ef4802a1560086bf_cgraph" id="classnidas_1_1core_1_1IOStream_a1ace18fad9276e26ef4802a1560086bf_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOStream.html#a700471db8265705be95e7581072a1f4e" title="nidas::core::IOStream\l::addNumOutputBytes" alt="" coords="216,5,381,46"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOChannel.html#a652118cfca982a2dd675e8272e47ae60" title="Default flush implementation does nothing. " alt="" coords="216,70,381,111"/><area shape="rect" id="node4" href="classnidas_1_1util_1_1Exception.html#a980845bb9a0fb107d8b216e8099c1b0b" title="nidas::util::Exception\l::getErrno" alt="" coords="222,135,375,177"/><area shape="rect" id="node5" href="classnidas_1_1core_1_1IOChannel.html#aeea332fa47970ef41714cac85a49c9b5" title="Physical write method which must be implemented in derived classes. " alt="" coords="216,201,381,242"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a830da98b1066a31d5f6fdccf749a3b06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; nidas::core::IOStream::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#ab9dd408ed6ed91dc8319a51d0441e6bb">_iochannel</a>, and <a class="el" href="classnidas_1_1core_1_1IOChannel.html#ac7b72aca1f3d3a39996ce5cf3a32d490">nidas::core::IOChannel::getName()</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_a830da98b1066a31d5f6fdccf749a3b06_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_a830da98b1066a31d5f6fdccf749a3b06_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_a830da98b1066a31d5f6fdccf749a3b06_cgraph" id="classnidas_1_1core_1_1IOStream_a830da98b1066a31d5f6fdccf749a3b06_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOChannel.html#ac7b72aca1f3d3a39996ce5cf3a32d490" title="nidas::core::IOChannel\l::getName" alt="" coords="216,5,381,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa5e3ebfdc472db9d24b5c3e90e4db650"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long nidas::core::IOStream::getNumInputBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes read with this <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf38d4c1ba0a329cfe1d8f397eb91e82">_nbytesIn</a>.</p>

</div>
</div>
<a class="anchor" id="a73ac96569880de07c19eaa85b014e6f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long nidas::core::IOStream::getNumOutputBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes written with this <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad21c9cbbcb3ae24436d8d6282083296f">_nbytesOut</a>.</p>

</div>
</div>
<a class="anchor" id="aaf10217652d32975bbb0466bb4b464db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nidas::core::IOStream::isNewInput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Did last <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2" title="Do an IOChannel::read into the internal buffer of IOStream. ">read()</a>, or read(buf,len) call result in a new file being opened? </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a63d38474ed54d1c300ade7b27abf052c">_newInput</a>.</p>

</div>
</div>
<a class="anchor" id="adffdab06783160a904f8fc54b6c51804"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a>&amp; nidas::core::IOStream::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnidas_1_1core_1_1IOStream.html">IOStream</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No assignment. </p>

</div>
</div>
<a class="anchor" id="ad828fb2a810571c703b1a2ea8263dcf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read</a> into the internal buffer of <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read. If there is still data in the <a class="el" href="classnidas_1_1core_1_1IOStream.html" title="A base class for buffering data. ">IOStream</a> buffer, then no physical read will be done, and a length of 0 is returned. </dd></dl>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a8c45c6c3d9944685e9af172d7b893805">_eob</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#aded8a0c2162234741fe0c0710679b6b1">_head</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ab9dd408ed6ed91dc8319a51d0441e6bb">_iochannel</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf38d4c1ba0a329cfe1d8f397eb91e82">_nbytesIn</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a63d38474ed54d1c300ade7b27abf052c">_newInput</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c">available()</a>, <a class="el" href="group__LoggerMacros.html#ga8580ef8434c78e3a864d50f63222ba6a">DLOG</a>, <a class="el" href="classnidas_1_1core_1_1IOChannel.html#adaca05f9427f6e679b8d891bfa076098">nidas::core::IOChannel::isNewInput()</a>, and <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296">nidas::core::IOChannel::read()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_ad828fb2a810571c703b1a2ea8263dcf2_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_ad828fb2a810571c703b1a2ea8263dcf2_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_ad828fb2a810571c703b1a2ea8263dcf2_cgraph" id="classnidas_1_1core_1_1IOStream_ad828fb2a810571c703b1a2ea8263dcf2_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c" title="Number of bytes available to be copied from the buffer of IOStream. " alt="" coords="218,5,379,46"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOChannel.html#adaca05f9427f6e679b8d891bfa076098" title="Some IOChannels, namely FileSet, which opens successive files, need to indicate when a read is from t..." alt="" coords="216,70,381,111"/><area shape="rect" id="node4" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. " alt="" coords="216,135,381,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae00869d015ef9c1e4d57def6f078d076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read len bytes of data into buf. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read. This will be less than len if an end of file is encountered, or if the <a class="el" href="classnidas_1_1core_1_1IOChannel.html" title="A channel for Input or Output of data. ">IOChannel</a> is configured for non-blocking reads and no data is available. This method may perform 0 or more physical reads of the <a class="el" href="classnidas_1_1core_1_1IOChannel.html" title="A channel for Input or Output of data. ">IOChannel</a>. </dd></dl>

<p>References <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

</div>
</div>
<a class="anchor" id="a14b6630884b1fcf23f9e3315c25c8517"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::core::IOStream::readBuf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy available bytes from the internal buffer to buf, returning the number of bytes copied, which may be less then len. </p>
<p>An <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read()</a> is not done, even if the internal buffer is empty. </p>

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a03cee4bfc98f0bde0bb1073ed6b04696">addNumInputBytes()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c">available()</a>, and <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_a14b6630884b1fcf23f9e3315c25c8517_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_a14b6630884b1fcf23f9e3315c25c8517_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_a14b6630884b1fcf23f9e3315c25c8517_cgraph" id="classnidas_1_1core_1_1IOStream_a14b6630884b1fcf23f9e3315c25c8517_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOStream.html#a03cee4bfc98f0bde0bb1073ed6b04696" title="nidas::core::IOStream\l::addNumInputBytes" alt="" coords="217,5,378,46"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c" title="Number of bytes available to be copied from the buffer of IOStream. " alt="" coords="217,70,378,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b001cc35433a00fca2c0f9bf1726296"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::readUntil </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read into the user buffer until a terminating character is found or len-1 bytes have been read. </p>
<p>The buffer is NULL terminated. </p>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read, not including the NULL character. Therefore the return value will not be more than len-1. This method will do an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read()</a> until the termination character is found of the buffer is full. Using this method on a non-blocking device may cause a system lockup. If an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#adaca05f9427f6e679b8d891bfa076098" title="Some IOChannels, namely FileSet, which opens successive files, need to indicate when a read is from t...">IOChannel::isNewInput</a> is encountered before the <a class="el" href="classnidas_1_1core_1_1IOStream.html#a7b001cc35433a00fca2c0f9bf1726296" title="Read into the user buffer until a terminating character is found or len-1 bytes have been read...">readUntil()</a> is satisfied, then any previous contents of the buffer are discarded and the reading proceeds with the new input. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>throw an exception if used with a non-blocking physical device. </dd></dl>

<p>References <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

</div>
</div>
<a class="anchor" id="a567f5e3ec860b0fdf5e29faaa2baad8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IOStream::reallocateBuffer </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classnidas_1_1core_1_1IOStream.html#a22e7e35253bd1e8511b103e2f5a7d52d">_buffer</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a5009453d81d59bae2d900bca7dfaf296">_buflen</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a8c45c6c3d9944685e9af172d7b893805">_eob</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a3786fb3006822243825494ea202fe28c">_halflen</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#aded8a0c2162234741fe0c0710679b6b1">_head</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a951871258255d926f4e3f002762964bb">_tail</a>, <a class="el" href="group__LoggerMacros.html#ga8580ef8434c78e3a864d50f63222ba6a">DLOG</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a830da98b1066a31d5f6fdccf749a3b06">getName()</a>, and <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad173d81e33de59db7e087934e7dd02d5">IOStream()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_a567f5e3ec860b0fdf5e29faaa2baad8f_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_a567f5e3ec860b0fdf5e29faaa2baad8f_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_a567f5e3ec860b0fdf5e29faaa2baad8f_cgraph" id="classnidas_1_1core_1_1IOStream_a567f5e3ec860b0fdf5e29faaa2baad8f_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1core_1_1IOStream.html#a830da98b1066a31d5f6fdccf749a3b06" title="nidas::core::IOStream\l::getName" alt="" coords="217,5,378,46"/><area shape="rect" id="node3" href="classnidas_1_1core_1_1IOChannel.html#ac7b72aca1f3d3a39996ce5cf3a32d490" title="nidas::core::IOChannel\l::getName" alt="" coords="427,5,592,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0884c10c13e3ad4c66054095545f8321"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::skip </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the internal buffer is empty, do an <a class="el" href="classnidas_1_1core_1_1IOChannel.html#a7c98044adfd3710b9d618f732a99c296" title="Physical read method which must be implemented in derived classes. ">IOChannel::read</a> into the buffer. </p>
<p>Then skip over len bytes in the user buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>number of bytes skipped. May be less than the user asked for. </dd></dl>

<p>References <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

<p>Referenced by <a class="el" href="classHeaderUtil.html#a2a3633bc49048f69645b31012e7e5fdd">HeaderUtil::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a8eaa8ac91411f9d880620f600434ab08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::write </td>
          <td>(</td>
          <td class="paramtype">const struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data. </p>
<p>This supports an atomic write of data from multiple buffers into an output buffer. The write either completely succeeds (all buffers written), or completely fails (no buffers written). This prevents partial data samples from being written, and also reduces the need for copying to a temporary buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iov</td><td>Array of pointers to buffers of data to be written. </td></tr>
    <tr><td class="paramname">nbufs</td><td>Number of buffers, the length of iov. </td></tr>
    <tr><td class="paramname">flush,:</td><td>force a write to the physical device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true: all data in bufs was copied to output buffer; false: no data copied because the buffer was full and the physical device is bogged down. Typically one must chuck the data and proceed. </dd></dl>

<p>References <a class="el" href="classnidas_1_1util_1_1Exception.html#a980845bb9a0fb107d8b216e8099c1b0b">nidas::util::Exception::getErrno()</a>, and <a class="el" href="group__LoggerMacros.html#ga19f6fcec2ab1802463909943c55c2c37">WLOG</a>.</p>

<p>Referenced by <a class="el" href="classWriterThread.html#a06d19fbd01241308d09b219e69d2de0f">WriterThread::run()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1core_1_1IOStream_a8eaa8ac91411f9d880620f600434ab08_cgraph.png" border="0" usemap="#classnidas_1_1core_1_1IOStream_a8eaa8ac91411f9d880620f600434ab08_cgraph" alt=""/></div>
<map name="classnidas_1_1core_1_1IOStream_a8eaa8ac91411f9d880620f600434ab08_cgraph" id="classnidas_1_1core_1_1IOStream_a8eaa8ac91411f9d880620f600434ab08_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1util_1_1Exception.html#a980845bb9a0fb107d8b216e8099c1b0b" title="nidas::util::Exception\l::getErrno" alt="" coords="217,5,370,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c6ba488bbe8a5f49c3b857ab8ff4404"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t IOStream::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">nidas::util::IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="sing_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a22e7e35253bd1e8511b103e2f5a7d52d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* nidas::core::IOStream::_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>data buffer </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#abc7c759c0c1fff15326e9a95234a4bea">backup()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a073f8803647025282095171289b9f99f">~IOStream()</a>.</p>

</div>
</div>
<a class="anchor" id="a5009453d81d59bae2d900bca7dfaf296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::core::IOStream::_buflen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual buffer size. </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c45c6c3d9944685e9af172d7b893805"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* nidas::core::IOStream::_eob</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>One past end of buffer. </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a3786fb3006822243825494ea202fe28c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::core::IOStream::_halflen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="aded8a0c2162234741fe0c0710679b6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* nidas::core::IOStream::_head</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>where we insert bytes into the buffer </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c">available()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9dd408ed6ed91dc8319a51d0441e6bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnidas_1_1core_1_1IOChannel.html">IOChannel</a>&amp; nidas::core::IOStream::_iochannel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#abd5e1ec4650797e7be78cb29918a9a1c">createFile()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a830da98b1066a31d5f6fdccf749a3b06">getName()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf38d4c1ba0a329cfe1d8f397eb91e82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long nidas::core::IOStream::_nbytesIn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a03cee4bfc98f0bde0bb1073ed6b04696">addNumInputBytes()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#aa5e3ebfdc472db9d24b5c3e90e4db650">getNumInputBytes()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>.</p>

</div>
</div>
<a class="anchor" id="ad21c9cbbcb3ae24436d8d6282083296f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long nidas::core::IOStream::_nbytesOut</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#a700471db8265705be95e7581072a1f4e">addNumOutputBytes()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a73ac96569880de07c19eaa85b014e6f0">getNumOutputBytes()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e51bcebcece461285c40ba06351bc30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::core::IOStream::_nEAGAIN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a63d38474ed54d1c300ade7b27abf052c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nidas::core::IOStream::_newInput</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Was the previous read performed on a newly opened file? </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#aaf10217652d32975bbb0466bb4b464db">isNewInput()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>.</p>

</div>
</div>
<a class="anchor" id="a951871258255d926f4e3f002762964bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* nidas::core::IOStream::_tail</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>where we remove bytes from the buffer </p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1IOStream.html#ac344a3623556041834de14a3c7f0d02c">available()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#abc7c759c0c1fff15326e9a95234a4bea">backup()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a1ace18fad9276e26ef4802a1560086bf">flush()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#ad828fb2a810571c703b1a2ea8263dcf2">read()</a>, <a class="el" href="classnidas_1_1core_1_1IOStream.html#a14b6630884b1fcf23f9e3315c25c8517">readBuf()</a>, and <a class="el" href="classnidas_1_1core_1_1IOStream.html#a567f5e3ec860b0fdf5e29faaa2baad8f">reallocateBuffer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nidas/core/<a class="el" href="IOStream_8h_source.html">IOStream.h</a></li>
<li>nidas/core/<a class="el" href="IOStream_8cc.html">IOStream.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
