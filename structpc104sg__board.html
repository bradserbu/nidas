<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>nidas: pc104sg_board Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nidas
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structpc104sg__board-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pc104sg_board Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Everything needed to access the board.  
 <a href="structpc104sg__board.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for pc104sg_board:</div>
<div class="dyncontent">
<div class="center"><img src="structpc104sg__board__coll__graph.png" border="0" usemap="#pc104sg__board_coll__map" alt="Collaboration graph"/></div>
<map name="pc104sg__board_coll__map" id="pc104sg__board_coll__map">
<area shape="rect" id="node2" href="structirig__device.html" title="Device structure used in the file operations of the character device which provides IRIG samples..." alt="" coords="5,109,93,136"/><area shape="rect" id="node3" href="structpc104sg__status.html" title="pc104sg_status" alt="" coords="119,109,241,136"/><area shape="rect" id="node4" href="structclockSnapShot.html" title="One a second, or when clockAction == RESET_COUNTERS, the interrupt service routine grabs a snapshot o..." alt="" coords="265,109,383,136"/><area shape="rect" id="node5" href="structtimeval32.html" title="timeval32" alt="" coords="281,5,367,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a662544f3acdcf35a16843deff72ec974"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a662544f3acdcf35a16843deff72ec974">ioport</a></td></tr>
<tr class="separator:a662544f3acdcf35a16843deff72ec974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbc1fccd4e4a09ac550b1fc026de99e"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a5fbc1fccd4e4a09ac550b1fc026de99e">addr</a></td></tr>
<tr class="separator:a5fbc1fccd4e4a09ac550b1fc026de99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50a70c5c2b70b7b8a54e0789c543ed9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#aa50a70c5c2b70b7b8a54e0789c543ed9">irq</a></td></tr>
<tr class="separator:aa50a70c5c2b70b7b8a54e0789c543ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d46ee1984d701cef33075de9e6a53e"><td class="memItemLeft" align="right" valign="top">struct class *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ab0d46ee1984d701cef33075de9e6a53e">class</a></td></tr>
<tr class="separator:ab0d46ee1984d701cef33075de9e6a53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a077211e862d394f822a1f06f18c10d"><td class="memItemLeft" align="right" valign="top">struct device *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a7a077211e862d394f822a1f06f18c10d">device</a></td></tr>
<tr class="separator:a7a077211e862d394f822a1f06f18c10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8c49fec99657a904d9517ef225b987"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a8c8c49fec99657a904d9517ef225b987">deviceName</a> [32]</td></tr>
<tr class="separator:a8c8c49fec99657a904d9517ef225b987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d964c578d997d750ca590425595b95"><td class="memItemLeft" align="right" valign="top">dev_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a24d964c578d997d750ca590425595b95">pc104sg_device</a></td></tr>
<tr class="memdesc:a24d964c578d997d750ca590425595b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linux device.  <a href="#a24d964c578d997d750ca590425595b95">More...</a><br/></td></tr>
<tr class="separator:a24d964c578d997d750ca590425595b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794e80025a3e64906d81ced9f331e7c5"><td class="memItemLeft" align="right" valign="top">struct cdev&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a794e80025a3e64906d81ced9f331e7c5">pc104sg_cdev</a></td></tr>
<tr class="memdesc:a794e80025a3e64906d81ced9f331e7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linux character device.  <a href="#a794e80025a3e64906d81ced9f331e7c5">More...</a><br/></td></tr>
<tr class="separator:a794e80025a3e64906d81ced9f331e7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b577802e78d4d6b30607db33e91bda"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structirig__device.html">irig_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#af1b577802e78d4d6b30607db33e91bda">dev</a></td></tr>
<tr class="memdesc:af1b577802e78d4d6b30607db33e91bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information needed by file operations.  <a href="#af1b577802e78d4d6b30607db33e91bda">More...</a><br/></td></tr>
<tr class="separator:af1b577802e78d4d6b30607db33e91bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ddf517b31315c3c30649f4a64f1a41"><td class="memItemLeft" align="right" valign="top">spinlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a00ddf517b31315c3c30649f4a64f1a41">dev_lock</a></td></tr>
<tr class="memdesc:a00ddf517b31315c3c30649f4a64f1a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">spinlock used to control access to <a class="el" href="structirig__device.html" title="Device structure used in the file operations of the character device which provides IRIG samples...">irig_device</a> member.  <a href="#a00ddf517b31315c3c30649f4a64f1a41">More...</a><br/></td></tr>
<tr class="separator:a00ddf517b31315c3c30649f4a64f1a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b6a004a73f9b0fd545fb6876d7ae53"><td class="memItemLeft" align="right" valign="top">atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ae9b6a004a73f9b0fd545fb6876d7ae53">num_opened</a></td></tr>
<tr class="memdesc:ae9b6a004a73f9b0fd545fb6876d7ae53"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many concurrent opens of the device.  <a href="#ae9b6a004a73f9b0fd545fb6876d7ae53">More...</a><br/></td></tr>
<tr class="separator:ae9b6a004a73f9b0fd545fb6876d7ae53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36693aff3845eeafda21b00af0e62ca1"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a36693aff3845eeafda21b00af0e62ca1">IntMask</a></td></tr>
<tr class="memdesc:a36693aff3845eeafda21b00af0e62ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The three possible interrupts generated by this card are enabled with bits 5,6,7 of the status port:  <a href="#a36693aff3845eeafda21b00af0e62ca1">More...</a><br/></td></tr>
<tr class="separator:a36693aff3845eeafda21b00af0e62ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabef74cb7adf74de93a1c7ad7c6a8cb0"><td class="memItemLeft" align="right" valign="top">spinlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#aabef74cb7adf74de93a1c7ad7c6a8cb0">lock</a></td></tr>
<tr class="memdesc:aabef74cb7adf74de93a1c7ad7c6a8cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spinlock to control concurrent access to board registers and shared variables in this structure.  <a href="#aabef74cb7adf74de93a1c7ad7c6a8cb0">More...</a><br/></td></tr>
<tr class="separator:aabef74cb7adf74de93a1c7ad7c6a8cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acbf8f28a1878ba834fa7368a12ed9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a3acbf8f28a1878ba834fa7368a12ed9f">TMsecClockTicker</a></td></tr>
<tr class="memdesc:a3acbf8f28a1878ba834fa7368a12ed9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our clock ticker, 1/10s of milliseconds since 00:00 GMT.  <a href="#a3acbf8f28a1878ba834fa7368a12ed9f">More...</a><br/></td></tr>
<tr class="separator:a3acbf8f28a1878ba834fa7368a12ed9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfba3e433200ffe89d4c751e90d2a91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a3bfba3e433200ffe89d4c751e90d2a91">WriteClock</a></td></tr>
<tr class="memdesc:a3bfba3e433200ffe89d4c751e90d2a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index into TMsecClock of the next clock value to be written.  <a href="#a3bfba3e433200ffe89d4c751e90d2a91">More...</a><br/></td></tr>
<tr class="separator:a3bfba3e433200ffe89d4c751e90d2a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbbdbaede6ff5b3061a4e7200348e441"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#afbbdbaede6ff5b3061a4e7200348e441">count100Hz</a></td></tr>
<tr class="separator:afbbdbaede6ff5b3061a4e7200348e441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c860b5cc713524f14228979c50b6a9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="pc104sg_8c.html#a65c98d2b2bce9d94da28a7ffcb6d25a4">clockState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a75c860b5cc713524f14228979c50b6a9">clockState</a></td></tr>
<tr class="memdesc:a75c860b5cc713524f14228979c50b6a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current clock state.  <a href="#a75c860b5cc713524f14228979c50b6a9">More...</a><br/></td></tr>
<tr class="separator:a75c860b5cc713524f14228979c50b6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f25498514ec0895cd6d3dbcd962a9b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="pc104sg_8c.html#a20eeb1469b8898abac3c17173c078af4">clockAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a51f25498514ec0895cd6d3dbcd962a9b">clockAction</a></td></tr>
<tr class="memdesc:a51f25498514ec0895cd6d3dbcd962a9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Action to be performed at the beginning of the next 100 Hz tasklet, either NO_ACTION or RESET_COUNTERS.  <a href="#a51f25498514ec0895cd6d3dbcd962a9b">More...</a><br/></td></tr>
<tr class="separator:a51f25498514ec0895cd6d3dbcd962a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d77a74c667402304d9cbfe43589977"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="pc104sg_8c.html#a490c7f4a4bd6529df1faad64b79ab87b">notifyClients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a07d77a74c667402304d9cbfe43589977">notifyClients</a></td></tr>
<tr class="memdesc:a07d77a74c667402304d9cbfe43589977"><td class="mdescLeft">&#160;</td><td class="mdescRight">If clockAction is RESET_COUNTERS, whether to notify clients after resetting our software clocks.  <a href="#a07d77a74c667402304d9cbfe43589977">More...</a><br/></td></tr>
<tr class="separator:a07d77a74c667402304d9cbfe43589977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8c658abaaf9a432a01cfd7531a0e39"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structpc104sg__status.html">pc104sg_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a6f8c658abaaf9a432a01cfd7531a0e39">status</a></td></tr>
<tr class="memdesc:a6f8c658abaaf9a432a01cfd7531a0e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status structure accessed by IRIG_GET_STATUS ioctl.  <a href="#a6f8c658abaaf9a432a01cfd7531a0e39">More...</a><br/></td></tr>
<tr class="separator:a6f8c658abaaf9a432a01cfd7531a0e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691e6dfd0eafdf6d134b045d1e273da1"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a691e6dfd0eafdf6d134b045d1e273da1">extendedStatus</a></td></tr>
<tr class="memdesc:a691e6dfd0eafdf6d134b045d1e273da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantaneous value of extended status bits, read from DP RAM at 100 Hz.  <a href="#a691e6dfd0eafdf6d134b045d1e273da1">More...</a><br/></td></tr>
<tr class="separator:a691e6dfd0eafdf6d134b045d1e273da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c980845c2fcf94d08442e345211fd7"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a45c980845c2fcf94d08442e345211fd7">lastStatus</a></td></tr>
<tr class="memdesc:a45c980845c2fcf94d08442e345211fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of last extendedStatus, so we can detect SYNC &lt;-&gt; NOSYNC transitions.  <a href="#a45c980845c2fcf94d08442e345211fd7">More...</a><br/></td></tr>
<tr class="separator:a45c980845c2fcf94d08442e345211fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e5a0fd5f16ee3b0d60c033e17843cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#aa8e5a0fd5f16ee3b0d60c033e17843cc">lastSyncTime</a></td></tr>
<tr class="memdesc:aa8e5a0fd5f16ee3b0d60c033e17843cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">last time that software clock was set against a sync'd irig clock.  <a href="#aa8e5a0fd5f16ee3b0d60c033e17843cc">More...</a><br/></td></tr>
<tr class="separator:aa8e5a0fd5f16ee3b0d60c033e17843cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46f52683dc689ffb0747b69fd6cdd16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ac46f52683dc689ffb0747b69fd6cdd16">DP_RamExtStatusEnabled</a></td></tr>
<tr class="memdesc:ac46f52683dc689ffb0747b69fd6cdd16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true if ISR should send requests for status from dual-ported RAM.  <a href="#ac46f52683dc689ffb0747b69fd6cdd16">More...</a><br/></td></tr>
<tr class="separator:ac46f52683dc689ffb0747b69fd6cdd16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7cdaf354d9c6d69c5b48b41da827af0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ab7cdaf354d9c6d69c5b48b41da827af0">DP_RamExtStatusRequested</a></td></tr>
<tr class="memdesc:ab7cdaf354d9c6d69c5b48b41da827af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true if ISR has sent a request for status from dual-ported RAM.  <a href="#ab7cdaf354d9c6d69c5b48b41da827af0">More...</a><br/></td></tr>
<tr class="separator:ab7cdaf354d9c6d69c5b48b41da827af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618aa12544cdabc76949a975d24d905c"><td class="memItemLeft" align="right" valign="top">struct tasklet_struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a618aa12544cdabc76949a975d24d905c">tasklet100Hz</a></td></tr>
<tr class="separator:a618aa12544cdabc76949a975d24d905c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f8690eeb825494a148af112cd3b8e5"><td class="memItemLeft" align="right" valign="top">atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a54f8690eeb825494a148af112cd3b8e5">pending100Hz</a></td></tr>
<tr class="memdesc:a54f8690eeb825494a148af112cd3b8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many 100Hz ticks are yet unhandled in tasklet?  <a href="#a54f8690eeb825494a148af112cd3b8e5">More...</a><br/></td></tr>
<tr class="separator:a54f8690eeb825494a148af112cd3b8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e41ee8634edb4f67821c89d06fcbb21"><td class="memItemLeft" align="right" valign="top">struct irig_callback *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a8e41ee8634edb4f67821c89d06fcbb21">oneHzCallback</a></td></tr>
<tr class="memdesc:a8e41ee8634edb4f67821c89d06fcbb21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our 1 Hz callback.  <a href="#a8e41ee8634edb4f67821c89d06fcbb21">More...</a><br/></td></tr>
<tr class="separator:a8e41ee8634edb4f67821c89d06fcbb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3366b2e1a1c28ee2c4f95bf17832331c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structclockSnapShot.html">clockSnapShot</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a3366b2e1a1c28ee2c4f95bf17832331c">snapshot</a></td></tr>
<tr class="memdesc:a3366b2e1a1c28ee2c4f95bf17832331c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot of the hardware and software clock and status.  <a href="#a3366b2e1a1c28ee2c4f95bf17832331c">More...</a><br/></td></tr>
<tr class="separator:a3366b2e1a1c28ee2c4f95bf17832331c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3927c1002e1395e606555b8d91d1b599"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a3927c1002e1395e606555b8d91d1b599">doSnapShot</a></td></tr>
<tr class="memdesc:a3927c1002e1395e606555b8d91d1b599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true if the interrupt service routine should take a snapshot.  <a href="#a3927c1002e1395e606555b8d91d1b599">More...</a><br/></td></tr>
<tr class="separator:a3927c1002e1395e606555b8d91d1b599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2bc5e110905645e5ee12ab7c2459d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a4c2bc5e110905645e5ee12ab7c2459d4">askedSnapShot</a></td></tr>
<tr class="memdesc:a4c2bc5e110905645e5ee12ab7c2459d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toward the end of a second, the bottom half asks the ISR for a clock snapshot.  <a href="#a4c2bc5e110905645e5ee12ab7c2459d4">More...</a><br/></td></tr>
<tr class="separator:a4c2bc5e110905645e5ee12ab7c2459d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47dfa15293369c125c1982e5a4f2cd03"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structclockSnapShot.html">clockSnapShot</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a47dfa15293369c125c1982e5a4f2cd03">resetSnapshot</a></td></tr>
<tr class="memdesc:a47dfa15293369c125c1982e5a4f2cd03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot taken by the ISR when clockAction == RESET_COUNTERS.  <a href="#a47dfa15293369c125c1982e5a4f2cd03">More...</a><br/></td></tr>
<tr class="separator:a47dfa15293369c125c1982e5a4f2cd03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bbbc758b1f95bf28803cb09c076a66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a59bbbc758b1f95bf28803cb09c076a66">resetSnapshotDone</a></td></tr>
<tr class="memdesc:a59bbbc758b1f95bf28803cb09c076a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">RESETS snapshot has been taken.  <a href="#a59bbbc758b1f95bf28803cb09c076a66">More...</a><br/></td></tr>
<tr class="separator:a59bbbc758b1f95bf28803cb09c076a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8bc3de407a85acd81600a583d277baa"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ae8bc3de407a85acd81600a583d277baa">statusOR</a></td></tr>
<tr class="memdesc:ae8bc3de407a85acd81600a583d277baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">An OR of the status bits since the last 1Hz snapshot.  <a href="#ae8bc3de407a85acd81600a583d277baa">More...</a><br/></td></tr>
<tr class="separator:ae8bc3de407a85acd81600a583d277baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4850ed44faac062ac9e2a3a8eaf7a3"><td class="memItemLeft" align="right" valign="top">struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a8a4850ed44faac062ac9e2a3a8eaf7a3">CallbackLists</a> [<a class="el" href="irigclock_8h.html#abe7cb1509e39038b6d56e023da754e72ad522600fb5cdf6e5db7e7cfe975c0a57">IRIG_NUM_RATES</a>]</td></tr>
<tr class="separator:a8a4850ed44faac062ac9e2a3a8eaf7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd16da4975bad8ca6107e41700de471e"><td class="memItemLeft" align="right" valign="top">struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#acd16da4975bad8ca6107e41700de471e">CallbackPool</a></td></tr>
<tr class="memdesc:acd16da4975bad8ca6107e41700de471e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool of allocated callback entries.  <a href="#acd16da4975bad8ca6107e41700de471e">More...</a><br/></td></tr>
<tr class="separator:acd16da4975bad8ca6107e41700de471e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fdfe2cb60cb85d4c8d0132f3a8fc595"><td class="memItemLeft" align="right" valign="top">spinlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a7fdfe2cb60cb85d4c8d0132f3a8fc595">cblist_lock</a></td></tr>
<tr class="memdesc:a7fdfe2cb60cb85d4c8d0132f3a8fc595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spinlock to control concurrent access to callback lists.  <a href="#a7fdfe2cb60cb85d4c8d0132f3a8fc595">More...</a><br/></td></tr>
<tr class="separator:a7fdfe2cb60cb85d4c8d0132f3a8fc595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfb6bc4e8a614d57d30f5eb2967fce5"><td class="memItemLeft" align="right" valign="top">struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#aebfb6bc4e8a614d57d30f5eb2967fce5">pendingAdds</a></td></tr>
<tr class="memdesc:aebfb6bc4e8a614d57d30f5eb2967fce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback entries that are to be added to the active list on next pass though loop.  <a href="#aebfb6bc4e8a614d57d30f5eb2967fce5">More...</a><br/></td></tr>
<tr class="separator:aebfb6bc4e8a614d57d30f5eb2967fce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78277868aeec90a5f8e7cd1acec8e84"><td class="memItemLeft" align="right" valign="top">struct irig_callback *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#aa78277868aeec90a5f8e7cd1acec8e84">pendingRemoves</a> [<a class="el" href="pc104sg_8c.html#ac4ed04f9ee13a19c2059952f49eab3c6">CALLBACK_POOL_SIZE</a>]</td></tr>
<tr class="memdesc:aa78277868aeec90a5f8e7cd1acec8e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback entries that are to be removed on next pass though loop.  <a href="#aa78277868aeec90a5f8e7cd1acec8e84">More...</a><br/></td></tr>
<tr class="separator:aa78277868aeec90a5f8e7cd1acec8e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8087bda8ef7f15c0dc80f34ab8cb7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a5f8087bda8ef7f15c0dc80f34ab8cb7d">nPendingRemoves</a></td></tr>
<tr class="separator:a5f8087bda8ef7f15c0dc80f34ab8cb7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11df66727c4ce48f19bc76213bc85535"><td class="memItemLeft" align="right" valign="top">atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a11df66727c4ce48f19bc76213bc85535">nPendingCallbackChanges</a></td></tr>
<tr class="separator:a11df66727c4ce48f19bc76213bc85535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ca47943771a3bca1cf8865b1a3cc06"><td class="memItemLeft" align="right" valign="top">wait_queue_head_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ae2ca47943771a3bca1cf8865b1a3cc06">callbackWaitQ</a></td></tr>
<tr class="memdesc:ae2ca47943771a3bca1cf8865b1a3cc06"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait_queue for tasks that want to wait until their callback is definitely not running.  <a href="#ae2ca47943771a3bca1cf8865b1a3cc06">More...</a><br/></td></tr>
<tr class="separator:ae2ca47943771a3bca1cf8865b1a3cc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f02d70aec6559b868a81e0b9df6ac9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#ab9f02d70aec6559b868a81e0b9df6ac9">max100HzBacklog</a></td></tr>
<tr class="separator:ab9f02d70aec6559b868a81e0b9df6ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289d78c106aa1025cbbbe7cd80d515f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a289d78c106aa1025cbbbe7cd80d515f5">ndtLast</a></td></tr>
<tr class="memdesc:a289d78c106aa1025cbbbe7cd80d515f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of 100 Hz delta-Ts the softare clock was off on the last check.  <a href="#a289d78c106aa1025cbbbe7cd80d515f5">More...</a><br/></td></tr>
<tr class="separator:a289d78c106aa1025cbbbe7cd80d515f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18984b41f8278596aa812f1e98dc858b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpc104sg__board.html#a18984b41f8278596aa812f1e98dc858b">ndtNSecs</a></td></tr>
<tr class="separator:a18984b41f8278596aa812f1e98dc858b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Everything needed to access the board. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5fbc1fccd4e4a09ac550b1fc026de99e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long pc104sg_board::addr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#ac928e2ad48c95a94c86aa08962f32410">disableAllInts()</a>, <a class="el" href="pc104sg_8c.html#aa9376577710fef9a923b2bfcb8cf7bc8">getRequestedDPRAM()</a>, <a class="el" href="pc104sg_8c.html#ab63a2129e5c40030d8a7455b9f38674b">getTimeFields()</a>, <a class="el" href="pc104sg_8c.html#aad3c2e372d016be6dd82b8dd834f1ee8">getTimeUsec()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, <a class="el" href="pc104sg_8c.html#a1135b8eef3e16d1c2e3b2b26380e6198">readDPRAM()</a>, <a class="el" href="pc104sg_8c.html#ad8f771cfe673267603932b907013adeb">requestDPRAM()</a>, <a class="el" href="pc104sg_8c.html#a59be4e9f51e3e4c7cba41fd4244ab801">resetHeartBeatLatch()</a>, <a class="el" href="pc104sg_8c.html#a89efb62061998a5877220ef066f5578a">resetMatchLatch()</a>, and <a class="el" href="pc104sg_8c.html#a57fdfe15265a20ca1347a96d84dbe25e">writeDPRAM()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c2bc5e110905645e5ee12ab7c2459d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::askedSnapShot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toward the end of a second, the bottom half asks the ISR for a clock snapshot. </p>
<p>This is used so that it doesn't ask twice in the second. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a4850ed44faac062ac9e2a3a8eaf7a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head pc104sg_board::CallbackLists[<a class="el" href="irigclock_8h.html#abe7cb1509e39038b6d56e023da754e72ad522600fb5cdf6e5db7e7cfe975c0a57">IRIG_NUM_RATES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aa73b925b4cef457efc768966179f095b">doCallbacklist()</a>, <a class="el" href="pc104sg_8c.html#a44ac6443e8cb3692ba6fe664d1307d9e">doResyncCallbacks()</a>, <a class="el" href="pc104sg_8c.html#a4a6e50ded9d3f5c70e8bd2b7409b5370">free_callbacks()</a>, and <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>.</p>

</div>
</div>
<a class="anchor" id="acd16da4975bad8ca6107e41700de471e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head pc104sg_board::CallbackPool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pool of allocated callback entries. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a4a6e50ded9d3f5c70e8bd2b7409b5370">free_callbacks()</a>, <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>, and <a class="el" href="pc104sg_8c.html#a6be98cca820db8ed3d7b06aecfafc2ab">register_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2ca47943771a3bca1cf8865b1a3cc06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wait_queue_head_t pc104sg_board::callbackWaitQ</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wait_queue for tasks that want to wait until their callback is definitely not running. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaf72cc4ce7d06abb88b67911ad702f9d">flush_irig_callbacks()</a>, and <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fdfe2cb60cb85d4c8d0132f3a8fc595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t pc104sg_board::cblist_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spinlock to control concurrent access to callback lists. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a4a6e50ded9d3f5c70e8bd2b7409b5370">free_callbacks()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#a6be98cca820db8ed3d7b06aecfafc2ab">register_irig_callback()</a>, and <a class="el" href="pc104sg_8c.html#ae0aacc0145154de250d49a3def0888af">unregister_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0d46ee1984d701cef33075de9e6a53e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct class* pc104sg_board::class</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a51f25498514ec0895cd6d3dbcd962a9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pc104sg_8c.html#a20eeb1469b8898abac3c17173c078af4">clockAction</a> pc104sg_board::clockAction</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Action to be performed at the beginning of the next 100 Hz tasklet, either NO_ACTION or RESET_COUNTERS. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a75c860b5cc713524f14228979c50b6a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pc104sg_8c.html#a65c98d2b2bce9d94da28a7ffcb6d25a4">clockState</a> pc104sg_board::clockState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current clock state. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#a011f0657825d40831b8eac637e2bcea5">clockStateString()</a>, <a class="el" href="pc104sg_8c.html#abdb74e80c66172da496b8908c84ab2b8">get_irig_time()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, and <a class="el" href="pc104sg_8c.html#adb929ec8d4c69d83a4b4d9134ff41374">setMajorTime()</a>.</p>

</div>
</div>
<a class="anchor" id="afbbdbaede6ff5b3061a4e7200348e441"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::count100Hz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>.</p>

</div>
</div>
<a class="anchor" id="af1b577802e78d4d6b30607db33e91bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structirig__device.html">irig_device</a>* pc104sg_board::dev</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Information needed by file operations. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#a18bccf2dde74934c01bb1fdeccfedec1">pc104sg_open()</a>, and <a class="el" href="pc104sg_8c.html#ae887d53a79983eaacf707bcb3abc2999">pc104sg_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a00ddf517b31315c3c30649f4a64f1a41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t pc104sg_board::dev_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spinlock used to control access to <a class="el" href="structirig__device.html" title="Device structure used in the file operations of the character device which provides IRIG samples...">irig_device</a> member. </p>
<p>dev member is accessed by a tasklet in software interrupt context so we must use a spinlock, not a mutex. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#a18bccf2dde74934c01bb1fdeccfedec1">pc104sg_open()</a>, and <a class="el" href="pc104sg_8c.html#ae887d53a79983eaacf707bcb3abc2999">pc104sg_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a077211e862d394f822a1f06f18c10d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct device* pc104sg_board::device</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c8c49fec99657a904d9517ef225b987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char pc104sg_board::deviceName[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#acc332f30a2b0de61fb66114ac2da63d9">pc104sg_init()</a>, and <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a3927c1002e1395e606555b8d91d1b599"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::doSnapShot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set to true if the interrupt service routine should take a snapshot. </p>
<p>This is the 1 Hz clock quality snapshot. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="ac46f52683dc689ffb0747b69fd6cdd16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::DP_RamExtStatusEnabled</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set to true if ISR should send requests for status from dual-ported RAM. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, and <a class="el" href="pc104sg_8c.html#aefe6cedb99237a8eda75efad5dfa4468">requestExtendedStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7cdaf354d9c6d69c5b48b41da827af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::DP_RamExtStatusRequested</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set to true if ISR has sent a request for status from dual-ported RAM. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, and <a class="el" href="pc104sg_8c.html#aefe6cedb99237a8eda75efad5dfa4468">requestExtendedStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a691e6dfd0eafdf6d134b045d1e273da1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char pc104sg_board::extendedStatus</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantaneous value of extended status bits, read from DP RAM at 100 Hz. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, and <a class="el" href="pc104sg_8c.html#aefe6cedb99237a8eda75efad5dfa4468">requestExtendedStatus()</a>.</p>

</div>
</div>
<a class="anchor" id="a36693aff3845eeafda21b00af0e62ca1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char pc104sg_board::IntMask</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The three possible interrupts generated by this card are enabled with bits 5,6,7 of the status port: </p>
<p>5 = heartbeat 6 = match 7 = external-time-tag</p>
<p>Writing a 0 to bits 0-4 causes other things, like board reset, so we set those bits to 1 here in the interrupt mask. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#ac928e2ad48c95a94c86aa08962f32410">disableAllInts()</a>, <a class="el" href="pc104sg_8c.html#a274ddac1815204b14f718e7de3dbefb8">enableHeartBeatInt()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, <a class="el" href="pc104sg_8c.html#a59be4e9f51e3e4c7cba41fd4244ab801">resetHeartBeatLatch()</a>, and <a class="el" href="pc104sg_8c.html#a89efb62061998a5877220ef066f5578a">resetMatchLatch()</a>.</p>

</div>
</div>
<a class="anchor" id="a662544f3acdcf35a16843deff72ec974"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int pc104sg_board::ioport</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="aa50a70c5c2b70b7b8a54e0789c543ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::irq</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a45c980845c2fcf94d08442e345211fd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char pc104sg_board::lastStatus</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Value of last extendedStatus, so we can detect SYNC &lt;-&gt; NOSYNC transitions. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#abdb74e80c66172da496b8908c84ab2b8">get_irig_time()</a>, <a class="el" href="pc104sg_8c.html#ab63a2129e5c40030d8a7455b9f38674b">getTimeFields()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, and <a class="el" href="pc104sg_8c.html#adb929ec8d4c69d83a4b4d9134ff41374">setMajorTime()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8e5a0fd5f16ee3b0d60c033e17843cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::lastSyncTime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>last time that software clock was set against a sync'd irig clock. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>.</p>

</div>
</div>
<a class="anchor" id="aabef74cb7adf74de93a1c7ad7c6a8cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t pc104sg_board::lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spinlock to control concurrent access to board registers and shared variables in this structure. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#af1a9975a8b7e0f46a701e359b0e7e4aa">irig_clock_gettime()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#acc332f30a2b0de61fb66114ac2da63d9">pc104sg_init()</a>, <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, <a class="el" href="pc104sg_8c.html#a1135b8eef3e16d1c2e3b2b26380e6198">readDPRAM()</a>, and <a class="el" href="pc104sg_8c.html#a57fdfe15265a20ca1347a96d84dbe25e">writeDPRAM()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9f02d70aec6559b868a81e0b9df6ac9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::max100HzBacklog</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, and <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>.</p>

</div>
</div>
<a class="anchor" id="a289d78c106aa1025cbbbe7cd80d515f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::ndtLast</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of 100 Hz delta-Ts the softare clock was off on the last check. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, and <a class="el" href="pc104sg_8c.html#ac9aa0f7f6e66c028b3842c03411f8fc8">setSoftTickers()</a>.</p>

</div>
</div>
<a class="anchor" id="a18984b41f8278596aa812f1e98dc858b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::ndtNSecs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, and <a class="el" href="pc104sg_8c.html#ac9aa0f7f6e66c028b3842c03411f8fc8">setSoftTickers()</a>.</p>

</div>
</div>
<a class="anchor" id="a07d77a74c667402304d9cbfe43589977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pc104sg_8c.html#a490c7f4a4bd6529df1faad64b79ab87b">notifyClients</a> pc104sg_board::notifyClients</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If clockAction is RESET_COUNTERS, whether to notify clients after resetting our software clocks. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, and <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>.</p>

</div>
</div>
<a class="anchor" id="a11df66727c4ce48f19bc76213bc85535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t pc104sg_board::nPendingCallbackChanges</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaf72cc4ce7d06abb88b67911ad702f9d">flush_irig_callbacks()</a>, <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>, <a class="el" href="pc104sg_8c.html#a6be98cca820db8ed3d7b06aecfafc2ab">register_irig_callback()</a>, and <a class="el" href="pc104sg_8c.html#ae0aacc0145154de250d49a3def0888af">unregister_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f8087bda8ef7f15c0dc80f34ab8cb7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::nPendingRemoves</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>, and <a class="el" href="pc104sg_8c.html#ae0aacc0145154de250d49a3def0888af">unregister_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9b6a004a73f9b0fd545fb6876d7ae53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t pc104sg_board::num_opened</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many concurrent opens of the device. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a18bccf2dde74934c01bb1fdeccfedec1">pc104sg_open()</a>, and <a class="el" href="pc104sg_8c.html#ae887d53a79983eaacf707bcb3abc2999">pc104sg_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e41ee8634edb4f67821c89d06fcbb21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct irig_callback* pc104sg_board::oneHzCallback</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Our 1 Hz callback. </p>
<p>Checks the clock snapshot, and sends a data sample if the device is opened. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a794e80025a3e64906d81ced9f331e7c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct cdev pc104sg_board::pc104sg_cdev</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Linux character device. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a24d964c578d997d750ca590425595b95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dev_t pc104sg_board::pc104sg_device</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Linux device. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>, and <a class="el" href="pc104sg_8c.html#acc332f30a2b0de61fb66114ac2da63d9">pc104sg_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a54f8690eeb825494a148af112cd3b8e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t pc104sg_board::pending100Hz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many 100Hz ticks are yet unhandled in tasklet? </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, and <a class="el" href="pc104sg_8c.html#ac9aa0f7f6e66c028b3842c03411f8fc8">setSoftTickers()</a>.</p>

</div>
</div>
<a class="anchor" id="aebfb6bc4e8a614d57d30f5eb2967fce5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head pc104sg_board::pendingAdds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback entries that are to be added to the active list on next pass though loop. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>, and <a class="el" href="pc104sg_8c.html#a6be98cca820db8ed3d7b06aecfafc2ab">register_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="aa78277868aeec90a5f8e7cd1acec8e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct irig_callback* pc104sg_board::pendingRemoves[<a class="el" href="pc104sg_8c.html#ac4ed04f9ee13a19c2059952f49eab3c6">CALLBACK_POOL_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback entries that are to be removed on next pass though loop. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a0d33fce3e2b16674e7015304617be580">handlePendingCallbacks()</a>, and <a class="el" href="pc104sg_8c.html#ae0aacc0145154de250d49a3def0888af">unregister_irig_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a47dfa15293369c125c1982e5a4f2cd03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclockSnapShot.html">clockSnapShot</a> pc104sg_board::resetSnapshot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Snapshot taken by the ISR when clockAction == RESET_COUNTERS. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a59bbbc758b1f95bf28803cb09c076a66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::resetSnapshotDone</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RESETS snapshot has been taken. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a3366b2e1a1c28ee2c4f95bf17832331c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclockSnapShot.html">clockSnapShot</a> pc104sg_board::snapshot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Snapshot of the hardware and software clock and status. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f8c658abaaf9a432a01cfd7531a0e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structpc104sg__status.html">pc104sg_status</a> pc104sg_board::status</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status structure accessed by IRIG_GET_STATUS ioctl. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaa653a40c114547800a6bf381440cb56">checkSoftTicker()</a>, <a class="el" href="pc104sg_8c.html#a532b77817b333266c5de6eb671c7ea86">oneHzFunction()</a>, <a class="el" href="pc104sg_8c.html#ae8c8b15054d75a173e58bc7f30a291cd">pc104sg_ioctl()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, <a class="el" href="pc104sg_8c.html#a18bccf2dde74934c01bb1fdeccfedec1">pc104sg_open()</a>, and <a class="el" href="pc104sg_8c.html#ac9aa0f7f6e66c028b3842c03411f8fc8">setSoftTickers()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8bc3de407a85acd81600a583d277baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char pc104sg_board::statusOR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An OR of the status bits since the last 1Hz snapshot. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a618aa12544cdabc76949a975d24d905c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tasklet_struct pc104sg_board::tasklet100Hz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="pc104sg_8c.html#aaab00cb0f54ed7cb6a67e20eab87281e">pc104sg_cleanup()</a>, <a class="el" href="pc104sg_8c.html#acc332f30a2b0de61fb66114ac2da63d9">pc104sg_init()</a>, and <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>.</p>

</div>
</div>
<a class="anchor" id="a3acbf8f28a1878ba834fa7368a12ed9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::TMsecClockTicker</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Our clock ticker, 1/10s of milliseconds since 00:00 GMT. </p>
<p>It is signed, since we are often computing time differences, and it is handy to initialize it to -1. There are 864,000,000 1/10 milliseconds in a day, so as a 32 bit signed integer, it has enough range for +- 2.4 days, but generally we restrict its value to the range 0:863,999,999. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>, <a class="el" href="pc104sg_8c.html#aaf941eb0fe5482665c540a976d2b220a">pc104sg_isr()</a>, and <a class="el" href="pc104sg_8c.html#ac9aa0f7f6e66c028b3842c03411f8fc8">setSoftTickers()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bfba3e433200ffe89d4c751e90d2a91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pc104sg_board::WriteClock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index into TMsecClock of the next clock value to be written. </p>

<p>Referenced by <a class="el" href="pc104sg_8c.html#aed23bdab82ef3a1206f5890b2c0d20ed">pc104sg_bh_100Hz()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>nidas/linux/irig/<a class="el" href="pc104sg_8c.html">pc104sg.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
