<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>nidas: nidas::util::ServerSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nidas
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenidas.html">nidas</a></li><li class="navelem"><a class="el" href="namespacenidas_1_1util.html">util</a></li><li class="navelem"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html">ServerSocket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classnidas_1_1util_1_1ServerSocket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nidas::util::ServerSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A stream (TCP) socket that is used to listen for connections.  
 <a href="classnidas_1_1util_1_1ServerSocket.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="util_2Socket_8h_source.html">Socket.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for nidas::util::ServerSocket:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1util_1_1ServerSocket__coll__graph.png" border="0" usemap="#nidas_1_1util_1_1ServerSocket_coll__map" alt="Collaboration graph"/></div>
<map name="nidas_1_1util_1_1ServerSocket_coll__map" id="nidas_1_1util_1_1ServerSocket_coll__map">
<area shape="rect" id="node2" href="classnidas_1_1util_1_1SocketImpl.html" title="Implementation of a socket, providing a C++ interface to system socket calls: socket,bind,listen,accept,setsockopt, etc. " alt="" coords="17,109,180,136"/><area shape="rect" id="node3" href="classnidas_1_1util_1_1SocketAddress.html" title="An interface for a socket address. " alt="" coords="5,5,192,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f8c8717e954f971d07de42a3d581846"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a8f8c8717e954f971d07de42a3d581846">ServerSocket</a> (int <a class="el" href="sing_8cc.html#ab46baf604c406d3bc9a6b476eaeb2b51">port</a>=0, int backlog=10)  throw (IOException)</td></tr>
<tr class="memdesc:a8f8c8717e954f971d07de42a3d581846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a AF_INET <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to a port on all local interfaces.  <a href="#a8f8c8717e954f971d07de42a3d581846">More...</a><br/></td></tr>
<tr class="separator:a8f8c8717e954f971d07de42a3d581846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5074f8f7ac450e09892e3f298b005c01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a5074f8f7ac450e09892e3f298b005c01">throw</a> (<a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a>)</td></tr>
<tr class="memdesc:a5074f8f7ac450e09892e3f298b005c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to port on a given local address, and set listen backlog parameter.  <a href="#a5074f8f7ac450e09892e3f298b005c01">More...</a><br/></td></tr>
<tr class="separator:a5074f8f7ac450e09892e3f298b005c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5074f8f7ac450e09892e3f298b005c01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a5074f8f7ac450e09892e3f298b005c01">throw</a> (<a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a>)</td></tr>
<tr class="memdesc:a5074f8f7ac450e09892e3f298b005c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to an address, and set listen backlog parameter.  <a href="#a5074f8f7ac450e09892e3f298b005c01">More...</a><br/></td></tr>
<tr class="separator:a5074f8f7ac450e09892e3f298b005c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3d42f225380a3715a7067200b0866d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#aaa3d42f225380a3715a7067200b0866d">~ServerSocket</a> ()  throw ()</td></tr>
<tr class="memdesc:aaa3d42f225380a3715a7067200b0866d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#aaa3d42f225380a3715a7067200b0866d">More...</a><br/></td></tr>
<tr class="separator:aaa3d42f225380a3715a7067200b0866d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58412e9aa1c783e0cf06ed84d00d09b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a58412e9aa1c783e0cf06ed84d00d09b2">getFd</a> () const </td></tr>
<tr class="separator:a58412e9aa1c783e0cf06ed84d00d09b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0245d40096ca089255c67303eebf17e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a0245d40096ca089255c67303eebf17e6">close</a> ()  throw (IOException)</td></tr>
<tr class="memdesc:a0245d40096ca089255c67303eebf17e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">close the socket.  <a href="#a0245d40096ca089255c67303eebf17e6">More...</a><br/></td></tr>
<tr class="separator:a0245d40096ca089255c67303eebf17e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30aa9e584d99cf5f7a77b336989ba450"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnidas_1_1util_1_1Socket.html">Socket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a30aa9e584d99cf5f7a77b336989ba450">accept</a> ()  throw (IOException)</td></tr>
<tr class="memdesc:a30aa9e584d99cf5f7a77b336989ba450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept connection, return a connected <a class="el" href="classnidas_1_1util_1_1Socket.html" title="A stream (TCP) socket. ">Socket</a> instance.  <a href="#a30aa9e584d99cf5f7a77b336989ba450">More...</a><br/></td></tr>
<tr class="separator:a30aa9e584d99cf5f7a77b336989ba450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95351b04cecc92df7f91c6d2b58a774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#aa95351b04cecc92df7f91c6d2b58a774">setReceiveBufferSize</a> (int size)  throw (IOException)</td></tr>
<tr class="separator:aa95351b04cecc92df7f91c6d2b58a774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9919bee85b817faa473a3e615623d404"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a9919bee85b817faa473a3e615623d404">getReceiveBufferSize</a> ()  throw (IOException)</td></tr>
<tr class="separator:a9919bee85b817faa473a3e615623d404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ad320ad59ecebf476f4c9e6f9956ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a67ad320ad59ecebf476f4c9e6f9956ba">setSendBufferSize</a> (int size)  throw (IOException)</td></tr>
<tr class="separator:a67ad320ad59ecebf476f4c9e6f9956ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3614c3b15b5c00a443f1418036326ace"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a3614c3b15b5c00a443f1418036326ace">getSendBufferSize</a> ()  throw (IOException)</td></tr>
<tr class="separator:a3614c3b15b5c00a443f1418036326ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07252c8257ea7923f85deef66c811ddd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classnidas_1_1util_1_1SocketAddress.html">SocketAddress</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a07252c8257ea7923f85deef66c811ddd">getLocalSocketAddress</a> () const   throw ()</td></tr>
<tr class="memdesc:a07252c8257ea7923f85deef66c811ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the local address that this socket is bound to.  <a href="#a07252c8257ea7923f85deef66c811ddd">More...</a><br/></td></tr>
<tr class="separator:a07252c8257ea7923f85deef66c811ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630644b1930150f33d427f1e329bb030"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a630644b1930150f33d427f1e329bb030">getLocalPort</a> () const   throw ()</td></tr>
<tr class="separator:a630644b1930150f33d427f1e329bb030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93121a3756947e2e48f1512604873f5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a93121a3756947e2e48f1512604873f5a">getDomain</a> () const </td></tr>
<tr class="separator:a93121a3756947e2e48f1512604873f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f4444f61bc8de64ed9073a94c5153d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a70f4444f61bc8de64ed9073a94c5153d">setNonBlocking</a> (bool val)  throw (IOException)</td></tr>
<tr class="separator:a70f4444f61bc8de64ed9073a94c5153d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a32408a91ca2c3074d3435dfdb0924"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a09a32408a91ca2c3074d3435dfdb0924">isNonBlocking</a> () const   throw (IOException)</td></tr>
<tr class="separator:a09a32408a91ca2c3074d3435dfdb0924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a911efbaa4028e49db940753f644e80d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnidas_1_1util_1_1SocketImpl.html">SocketImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a911efbaa4028e49db940753f644e80d7">_impl</a></td></tr>
<tr class="separator:a911efbaa4028e49db940753f644e80d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A stream (TCP) socket that is used to listen for connections. </p>
<p>This class is patterned after the java.net.ServerSocket class.</p>
<p>This class provides the public copy constructors and assignment operators. Objects of this class can be copied and assigned to without restriction. However, because of this, the destructor does not close the socket, so it is the user's responsibility to call <a class="el" href="classnidas_1_1util_1_1Socket.html#a170b8a45ba456cc0d24b99b3b2b5c6ba">Socket::close()</a> when finished with the connection.</p>
<p>Usage scenario of a server which listens for connections on port 5000, and spawns a thread to handle each connection.</p>
<div class="fragment"><div class="line">*      <span class="keyword">using namespace </span>nidas::util;</div>
<div class="line">*      <span class="keyword">class </span>DetachedSocketThread: <span class="keyword">public</span> <a class="code" href="classnidas_1_1util_1_1DetachedThread.html">DetachedThread</a> {</div>
<div class="line">*      <span class="keyword">public</span>:</div>
<div class="line">*          <span class="comment">// Thread constructor</span></div>
<div class="line">*          DetachedSocketThread(<a class="code" href="classnidas_1_1util_1_1Socket.html">Socket</a> s) <span class="keywordflow">throw</span>(<a class="code" href="classnidas_1_1util_1_1IOException.html">IOException</a>):</div>
<div class="line">*       <a class="code" href="classnidas_1_1util_1_1DetachedThread.html">DetachedThread</a>(<span class="stringliteral">&quot;reader&quot;</span>),sock(s) {}</div>
<div class="line">*</div>
<div class="line">*          <span class="comment">// Thread run method</span></div>
<div class="line">*          <span class="keywordtype">int</span> run() <a class="code" href="classnidas_1_1util_1_1ServerSocket.html#a5074f8f7ac450e09892e3f298b005c01">throw</a>(nidas::util::<a class="code" href="classnidas_1_1util_1_1Exception.html">Exception</a>) {</div>
<div class="line">*              <span class="keywordflow">for</span> (;;) {</div>
<div class="line">*                  <span class="keywordtype">char</span> buf[512];</div>
<div class="line">*                  <span class="keywordflow">if</span> (recv(buf,<span class="keyword">sizeof</span>(buf),0) == 0) <span class="keywordflow">break</span>;</div>
<div class="line">*                  ...</div>
<div class="line">*              }</div>
<div class="line">*              sock.close();</div>
<div class="line">*              <span class="keywordflow">return</span> RUN_OK;</div>
<div class="line">*          }</div>
<div class="line">*          <span class="comment">// my socket</span></div>
<div class="line">*          <a class="code" href="classnidas_1_1util_1_1Socket.html">Socket</a> sock;</div>
<div class="line">*      };</div>
<div class="line">*</div>
<div class="line">*   <a class="code" href="classnidas_1_1util_1_1ServerSocket.html">ServerSocket</a> ssock(5000);   <span class="comment">// bind and listen on port 5000</span></div>
<div class="line">*   <span class="keywordflow">for</span> (;;) {</div>
<div class="line">*       <a class="code" href="classnidas_1_1util_1_1Socket.html">Socket</a>* sock = ssock.accept();  <span class="comment">// accept a connection</span></div>
<div class="line">*       DetachedSockThread* thrd = <span class="keyword">new</span> DetachedSockThread(sock);</div>
<div class="line">*       thrd-&gt;start();</div>
<div class="line">*          <span class="comment">// DetachedThreads delete themselves when they&#39;re done.</span></div>
<div class="line">*      }</div>
<div class="line">* </div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8f8c8717e954f971d07de42a3d581846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ServerSocket::ServerSocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>backlog</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a AF_INET <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to a port on all local interfaces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Port number, 0&lt;=port&lt;=65535. If zero, the system will select an available port number. To find out which port number was selected, use <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a630644b1930150f33d427f1e329bb030">getLocalPort()</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="sing_8cc.html#ab46baf604c406d3bc9a6b476eaeb2b51">port</a>.</p>

</div>
</div>
<a class="anchor" id="aaa3d42f225380a3715a7067200b0866d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nidas::util::ServerSocket::~ServerSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Does not close the socket. You must explicitly close it with the close method. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a30aa9e584d99cf5f7a77b336989ba450"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnidas_1_1util_1_1Socket.html">Socket</a>* nidas::util::ServerSocket::accept </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accept connection, return a connected <a class="el" href="classnidas_1_1util_1_1Socket.html" title="A stream (TCP) socket. ">Socket</a> instance. </p>
<p>This method does the following in addition to the basic <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a30aa9e584d99cf5f7a77b336989ba450" title="Accept connection, return a connected Socket instance. ">accept()</a> system call.</p>
<ol type="1">
<li>The pselect or ppoll system calls are used to wait on the socket file descriptor, with SIGUSR1 unset in the signal mask. In order to catch a SIGUSR1 signal with this <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a30aa9e584d99cf5f7a77b336989ba450" title="Accept connection, return a connected Socket instance. ">accept()</a> method, SIGUSR1 should first be blocked in the thread before calling <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a30aa9e584d99cf5f7a77b336989ba450" title="Accept connection, return a connected Socket instance. ">accept()</a>. If SIGUSR1 or any other signal is caught by this method, it will throw an <a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a> with a getErrno() of EINTR. The actual value of the signal is not available.</li>
<li>If the ::accept() system call returns EAGAIN, EWOULDBLOCK or ECONNABORTED, the pselect()/ppoll() and <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a30aa9e584d99cf5f7a77b336989ba450" title="Accept connection, return a connected Socket instance. ">accept()</a> system calls are retried. </li>
</ol>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1ServerSocket.html#a132a121d28bfbc1b2cabb95443822031">nidas::core::ServerSocket::connect()</a>, <a class="el" href="cvi__lv__test__in_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, <a class="el" href="classnidas_1_1core_1_1ServerSocketIODevice.html#ab12f218dabd8f48b5e021b5d2069aaf7">nidas::core::ServerSocketIODevice::open()</a>, <a class="el" href="classPSI.html#a72ffac96e4f4724c71d6f8ed8a575ac6">PSI::run()</a>, <a class="el" href="classServerThread.html#aeca30f07fda4d0faa7dc766bcee4145f">ServerThread::run()</a>, and <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#a5d8d8346d5c3cb906c951de38b2c7a9c">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a0245d40096ca089255c67303eebf17e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close the socket. </p>

<p>References <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a911efbaa4028e49db940753f644e80d7">_impl</a>, <a class="el" href="classnidas_1_1util_1_1SocketImpl.html#ac4407b5d18cab939e96ababd8006d5fd">nidas::util::SocketImpl::close()</a>, <a class="el" href="group__LoggerMacros.html#ga8580ef8434c78e3a864d50f63222ba6a">DLOG</a>, <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a93121a3756947e2e48f1512604873f5a">getDomain()</a>, <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a07252c8257ea7923f85deef66c811ddd">getLocalSocketAddress()</a>, and <a class="el" href="classnidas_1_1util_1_1SocketAddress.html#a8637108b2e476f37042982f8a9b000d5">nidas::util::SocketAddress::toString()</a>.</p>

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1ServerSocket.html#a0245d40096ca089255c67303eebf17e6">nidas::core::ServerSocket::close()</a>, <a class="el" href="classnidas_1_1core_1_1ServerSocketIODevice.html#a57c7f50249e77354149eaee2b8a9ac43">nidas::core::ServerSocketIODevice::closeServerSocket()</a>, <a class="el" href="classPSI.html#a72ffac96e4f4724c71d6f8ed8a575ac6">PSI::run()</a>, <a class="el" href="classServerThread.html#aeca30f07fda4d0faa7dc766bcee4145f">ServerThread::run()</a>, <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#a5d8d8346d5c3cb906c951de38b2c7a9c">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::run()</a>, and <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#acf778bfa30c78b52cd6cee2102b05ba6">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::~McSocketMulticaster()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classnidas_1_1util_1_1ServerSocket_a0245d40096ca089255c67303eebf17e6_cgraph.png" border="0" usemap="#classnidas_1_1util_1_1ServerSocket_a0245d40096ca089255c67303eebf17e6_cgraph" alt=""/></div>
<map name="classnidas_1_1util_1_1ServerSocket_a0245d40096ca089255c67303eebf17e6_cgraph" id="classnidas_1_1util_1_1ServerSocket_a0245d40096ca089255c67303eebf17e6_cgraph">
<area shape="rect" id="node2" href="classnidas_1_1util_1_1SocketImpl.html#ac4407b5d18cab939e96ababd8006d5fd" title="nidas::util::SocketImpl\l::close" alt="" coords="241,37,404,78"/><area shape="rect" id="node6" href="classnidas_1_1util_1_1ServerSocket.html#a93121a3756947e2e48f1512604873f5a" title="nidas::util::ServerSocket\l::getDomain" alt="" coords="234,102,411,143"/><area shape="rect" id="node7" href="classnidas_1_1util_1_1ServerSocket.html#a07252c8257ea7923f85deef66c811ddd" title="Fetch the local address that this socket is bound to. " alt="" coords="233,167,413,209"/><area shape="rect" id="node5" href="classnidas_1_1util_1_1SocketAddress.html#a8637108b2e476f37042982f8a9b000d5" title="Java style toString. " alt="" coords="467,165,653,206"/><area shape="rect" id="node3" href="classnidas_1_1util_1_1SocketImpl.html#aed0edf6bcfa48a862f2f95ac18ca4bf3" title="Get local socket address of this socket. " alt="" coords="470,5,650,46"/><area shape="rect" id="node4" href="classnidas_1_1util_1_1SocketImpl.html#a823649cca15b0c841266621653f5e026" title="Get remote socket address of this socket. " alt="" coords="462,70,658,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93121a3756947e2e48f1512604873f5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nidas::util::ServerSocket::getDomain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a0245d40096ca089255c67303eebf17e6">close()</a>.</p>

</div>
</div>
<a class="anchor" id="a58412e9aa1c783e0cf06ed84d00d09b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nidas::util::ServerSocket::getFd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1ServerSocketIODevice.html#a57c7f50249e77354149eaee2b8a9ac43">nidas::core::ServerSocketIODevice::closeServerSocket()</a>, <a class="el" href="classnidas_1_1core_1_1RemoteSerialListener.html#a92bf4f25376835c6d8c73461c1078791">nidas::core::RemoteSerialListener::getFd()</a>, <a class="el" href="classnidas_1_1core_1_1ServerSocket.html#ac6da5df0b6edcca284612b40b372bc90">nidas::core::ServerSocket::getFd()</a>, and <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#a5d8d8346d5c3cb906c951de38b2c7a9c">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a630644b1930150f33d427f1e329bb030"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nidas::util::ServerSocket::getLocalPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#a5d8d8346d5c3cb906c951de38b2c7a9c">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a07252c8257ea7923f85deef66c811ddd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classnidas_1_1util_1_1SocketAddress.html">SocketAddress</a>&amp; nidas::util::ServerSocket::getLocalSocketAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the local address that this socket is bound to. </p>

<p>Referenced by <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a0245d40096ca089255c67303eebf17e6">close()</a>, <a class="el" href="classnidas_1_1core_1_1RemoteSerialListener.html#a14b0b8d47cd26198f882ede248991862">nidas::core::RemoteSerialListener::getName()</a>, and <a class="el" href="classnidas_1_1util_1_1McSocketMulticaster.html#a5d8d8346d5c3cb906c951de38b2c7a9c">nidas::util::McSocketMulticaster&lt; SocketTT &gt;::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a9919bee85b817faa473a3e615623d404"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nidas::util::ServerSocket::getReceiveBufferSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3614c3b15b5c00a443f1418036326ace"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nidas::util::ServerSocket::getSendBufferSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a09a32408a91ca2c3074d3435dfdb0924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nidas::util::ServerSocket::isNonBlocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a70f4444f61bc8de64ed9073a94c5153d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nidas::util::ServerSocket::setNonBlocking </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1core_1_1ServerSocketIODevice.html#ab12f218dabd8f48b5e021b5d2069aaf7">nidas::core::ServerSocketIODevice::open()</a>.</p>

</div>
</div>
<a class="anchor" id="aa95351b04cecc92df7f91c6d2b58a774"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nidas::util::ServerSocket::setReceiveBufferSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a67ad320ad59ecebf476f4c9e6f9956ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nidas::util::ServerSocket::setSendBufferSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5074f8f7ac450e09892e3f298b005c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nidas::util::ServerSocket::throw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to port on a given local address, and set listen backlog parameter. </p>

</div>
</div>
<a class="anchor" id="a5074f8f7ac450e09892e3f298b005c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nidas::util::ServerSocket::throw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnidas_1_1util_1_1IOException.html">IOException</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classnidas_1_1util_1_1ServerSocket.html" title="A stream (TCP) socket that is used to listen for connections. ">ServerSocket</a> bound to an address, and set listen backlog parameter. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a911efbaa4028e49db940753f644e80d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnidas_1_1util_1_1SocketImpl.html">SocketImpl</a> nidas::util::ServerSocket::_impl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classnidas_1_1util_1_1ServerSocket.html#a0245d40096ca089255c67303eebf17e6">close()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nidas/util/<a class="el" href="util_2Socket_8h_source.html">Socket.h</a></li>
<li>nidas/util/<a class="el" href="util_2Socket_8cc.html">Socket.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
